{"file":"prescriptions-D7UVJk_t.js","mappings":";;;;;;;;;;;;;;;;;;AAgQA,YAAQ;AAAA,MACN,OAAO;AAAA,IACT,CAAC;AAGD,UAAM,gBAAgB,IAAI,EAAE;AAC5B,UAAM,qBAAqB,IAAI,CAAC;AAChC,UAAM,cAAc,IAAI,CAAC;AACzB,UAAM,eAAe,IAAI,EAAE;AAC3B,UAAM,uBAAuB,IAAI,IAAI;AAErC,UAAM,UAAU,IAAI;AAAA,MAClB,QAAQ;AAAA,MACR,UAAU;AAAA,MACV,QAAQ;AAAA,IACV,CAAC;AAmED,UAAM,aAAa,CAAC,SAAS;AAC3B,aAAO,IAAI,KAAK,IAAI,EAAE,mBAAmB,SAAS;AAAA,QAChD,MAAM;AAAA,QACN,OAAO;AAAA,QACP,KAAK;AAAA,MACT,CAAG;AAAA,IACH;AAEA,UAAM,iBAAiB,CAAC,WAAW;AACjC,YAAM,gBAAgB;AAAA,QACpB,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,UAAU;AAAA,MACX;AACD,aAAO,cAAc,MAAM,KAAK;AAAA,IAClC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["../../../../pages/admin/prescriptions.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gray-50\">\r\n    <!-- Header -->\r\n    <div class=\"bg-white shadow-sm border-b\">\r\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div class=\"py-6\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 class=\"text-3xl font-bold text-gray-900\">Prescription Management</h1>\r\n              <p class=\"mt-1 text-sm text-gray-500\">Review and manage customer prescriptions</p>\r\n            </div>\r\n            <div class=\"flex items-center space-x-4\">\r\n              <span class=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800\">\r\n                {{ totalPrescriptions }} Total Prescriptions\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      <!-- Filters -->\r\n      <div class=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\r\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\r\n            <select v-model=\"filters.status\" class=\"w-full border border-gray-300 rounded-md px-3 py-2\">\r\n              <option value=\"\">All Status</option>\r\n              <option value=\"pending\">Pending Review</option>\r\n              <option value=\"approved\">Approved</option>\r\n              <option value=\"filled\">Filled</option>\r\n              <option value=\"rejected\">Rejected</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Date From</label>\r\n            <input \r\n              v-model=\"filters.dateFrom\" \r\n              type=\"date\" \r\n              class=\"w-full border border-gray-300 rounded-md px-3 py-2\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Date To</label>\r\n            <input \r\n              v-model=\"filters.dateTo\" \r\n              type=\"date\" \r\n              class=\"w-full border border-gray-300 rounded-md px-3 py-2\"\r\n            />\r\n          </div>\r\n          <div class=\"flex items-end\">\r\n            <button \r\n              @click=\"loadPrescriptions\"\r\n              class=\"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n            >\r\n              Apply Filters\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Prescriptions Table -->\r\n      <div class=\"bg-white rounded-lg shadow-sm overflow-hidden\">\r\n        <div class=\"overflow-x-auto\">\r\n          <table class=\"min-w-full divide-y divide-gray-200\">\r\n            <thead class=\"bg-gray-50\">\r\n              <tr>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Prescription ID\r\n                </th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Patient\r\n                </th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Doctor\r\n                </th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Medication\r\n                </th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Date Submitted\r\n                </th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody class=\"bg-white divide-y divide-gray-200\">\r\n              <tr v-for=\"prescription in prescriptions\" :key=\"prescription.id\" class=\"hover:bg-gray-50\">\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                  #RX{{ prescription.id }}\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div class=\"text-sm font-medium text-gray-900\">{{ prescription.patientName }}</div>\r\n                  <div class=\"text-sm text-gray-500\">DOB: {{ formatDate(prescription.patientDOB) }}</div>\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div class=\"text-sm font-medium text-gray-900\">{{ prescription.doctorName }}</div>\r\n                  <div class=\"text-sm text-gray-500\">{{ prescription.doctorLicense }}</div>\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div class=\"text-sm font-medium text-gray-900\">{{ prescription.medicationName }}</div>\r\n                  <div class=\"text-sm text-gray-500\">{{ prescription.dosage }} - {{ prescription.quantity }}</div>\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                  {{ formatDate(prescription.submittedAt) }}\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                  <span :class=\"getStatusClass(prescription.status)\" class=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full\">\r\n                    {{ prescription.status }}\r\n                  </span>\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                  <div class=\"flex space-x-2\">\r\n                    <button @click=\"viewPrescription(prescription)\" class=\"text-blue-600 hover:text-blue-900\">\r\n                      View\r\n                    </button>\r\n                    <button v-if=\"prescription.status === 'pending'\" @click=\"approvePrescription(prescription)\" class=\"text-green-600 hover:text-green-900\">\r\n                      Approve\r\n                    </button>\r\n                    <button v-if=\"prescription.status === 'pending'\" @click=\"rejectPrescription(prescription)\" class=\"text-red-600 hover:text-red-900\">\r\n                      Reject\r\n                    </button>\r\n                    <button v-if=\"prescription.status === 'approved'\" @click=\"fillPrescription(prescription)\" class=\"text-purple-600 hover:text-purple-900\">\r\n                      Fill\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <!-- Pagination -->\r\n        <div class=\"bg-gray-50 px-6 py-3 flex items-center justify-between\">\r\n          <div class=\"text-sm text-gray-700\">\r\n            Showing {{ (currentPage - 1) * itemsPerPage + 1 }} to {{ Math.min(currentPage * itemsPerPage, totalPrescriptions) }} of {{ totalPrescriptions }} prescriptions\r\n          </div>\r\n          <div class=\"flex space-x-2\">\r\n            <button \r\n              @click=\"currentPage--\" \r\n              :disabled=\"currentPage === 1\"\r\n              class=\"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50\"\r\n            >\r\n              Previous\r\n            </button>\r\n            <button \r\n              @click=\"currentPage++\" \r\n              :disabled=\"currentPage * itemsPerPage >= totalPrescriptions\"\r\n              class=\"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50\"\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Prescription Details Modal -->\r\n    <div v-if=\"selectedPrescription\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\" @click=\"selectedPrescription = null\">\r\n      <div class=\"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-96 overflow-y-auto\" @click.stop>\r\n        <div class=\"p-6\">\r\n          <div class=\"flex justify-between items-center mb-4\">\r\n            <h3 class=\"text-lg font-medium\">Prescription #RX{{ selectedPrescription.id }}</h3>\r\n            <button @click=\"selectedPrescription = null\" class=\"text-gray-400 hover:text-gray-600\">\r\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          \r\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div class=\"space-y-4\">\r\n              <div>\r\n                <h4 class=\"font-medium text-gray-900\">Patient Information</h4>\r\n                <div class=\"mt-2 text-sm text-gray-600\">\r\n                  <p><strong>Name:</strong> {{ selectedPrescription.patientName }}</p>\r\n                  <p><strong>Date of Birth:</strong> {{ formatDate(selectedPrescription.patientDOB) }}</p>\r\n                  <p><strong>Phone:</strong> {{ selectedPrescription.patientPhone }}</p>\r\n                  <p><strong>Address:</strong> {{ selectedPrescription.patientAddress }}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div>\r\n                <h4 class=\"font-medium text-gray-900\">Doctor Information</h4>\r\n                <div class=\"mt-2 text-sm text-gray-600\">\r\n                  <p><strong>Name:</strong> {{ selectedPrescription.doctorName }}</p>\r\n                  <p><strong>License:</strong> {{ selectedPrescription.doctorLicense }}</p>\r\n                  <p><strong>Contact:</strong> {{ selectedPrescription.doctorContact }}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"space-y-4\">\r\n              <div>\r\n                <h4 class=\"font-medium text-gray-900\">Prescription Details</h4>\r\n                <div class=\"mt-2 text-sm text-gray-600\">\r\n                  <p><strong>Medication:</strong> {{ selectedPrescription.medicationName }}</p>\r\n                  <p><strong>Dosage:</strong> {{ selectedPrescription.dosage }}</p>\r\n                  <p><strong>Quantity:</strong> {{ selectedPrescription.quantity }}</p>\r\n                  <p><strong>Refills:</strong> {{ selectedPrescription.refills }}</p>\r\n                  <p><strong>Instructions:</strong> {{ selectedPrescription.instructions }}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div>\r\n                <h4 class=\"font-medium text-gray-900\">Prescription Image</h4>\r\n                <div class=\"mt-2\">\r\n                  <img \r\n                    :src=\"selectedPrescription.imageUrl\" \r\n                    :alt=\"`Prescription ${selectedPrescription.id}`\"\r\n                    class=\"w-full h-48 object-cover border rounded-lg\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"mt-6 flex justify-end space-x-3\">\r\n            <button \r\n              v-if=\"selectedPrescription.status === 'pending'\"\r\n              @click=\"rejectPrescription(selectedPrescription)\"\r\n              class=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700\"\r\n            >\r\n              Reject\r\n            </button>\r\n            <button \r\n              v-if=\"selectedPrescription.status === 'pending'\"\r\n              @click=\"approvePrescription(selectedPrescription)\"\r\n              class=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700\"\r\n            >\r\n              Approve\r\n            </button>\r\n            <button \r\n              v-if=\"selectedPrescription.status === 'approved'\"\r\n              @click=\"fillPrescription(selectedPrescription)\"\r\n              class=\"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700\"\r\n            >\r\n              Mark as Filled\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\ndefinePageMeta({\r\n  middleware: 'admin'\r\n})\r\n\r\nuseHead({\r\n  title: 'Prescriptions - Admin - Long Châu'\r\n})\r\n\r\n// Reactive data\r\nconst prescriptions = ref([])\r\nconst totalPrescriptions = ref(0)\r\nconst currentPage = ref(1)\r\nconst itemsPerPage = ref(20)\r\nconst selectedPrescription = ref(null)\r\n\r\nconst filters = ref({\r\n  status: '',\r\n  dateFrom: '',\r\n  dateTo: ''\r\n})\r\n\r\n// Mock data - replace with actual API calls\r\nconst loadPrescriptions = async () => {\r\n  // This would typically be an API call\r\n  const mockPrescriptions = [\r\n    {\r\n      id: 2001,\r\n      patientName: 'John Doe',\r\n      patientDOB: new Date('1985-03-15'),\r\n      patientPhone: '(555) 123-4567',\r\n      patientAddress: '123 Main St, City, State 12345',\r\n      doctorName: 'Dr. Sarah Wilson',\r\n      doctorLicense: 'MD12345',\r\n      doctorContact: 'sarah.wilson@hospital.com',\r\n      medicationName: 'Lisinopril',\r\n      dosage: '10mg',\r\n      quantity: '30 tablets',\r\n      refills: '3',\r\n      instructions: 'Take once daily with food',\r\n      submittedAt: new Date('2024-01-15'),\r\n      status: 'pending',\r\n      imageUrl: '/images/prescription-sample.jpg'\r\n    },\r\n    {\r\n      id: 2002,\r\n      patientName: 'Jane Smith',\r\n      patientDOB: new Date('1978-07-22'),\r\n      patientPhone: '(555) 987-6543',\r\n      patientAddress: '456 Oak Ave, City, State 12345',\r\n      doctorName: 'Dr. Michael Chen',\r\n      doctorLicense: 'MD67890',\r\n      doctorContact: 'michael.chen@clinic.com',\r\n      medicationName: 'Metformin',\r\n      dosage: '500mg',\r\n      quantity: '60 tablets',\r\n      refills: '5',\r\n      instructions: 'Take twice daily with meals',\r\n      submittedAt: new Date('2024-01-14'),\r\n      status: 'approved',\r\n      imageUrl: '/images/prescription-sample2.jpg'\r\n    },\r\n    {\r\n      id: 2003,\r\n      patientName: 'Bob Johnson',\r\n      patientDOB: new Date('1962-11-08'),\r\n      patientPhone: '(555) 456-7890',\r\n      patientAddress: '789 Pine St, City, State 12345',\r\n      doctorName: 'Dr. Emily Rodriguez',\r\n      doctorLicense: 'MD54321',\r\n      doctorContact: 'emily.rodriguez@medical.com',\r\n      medicationName: 'Atorvastatin',\r\n      dosage: '20mg',\r\n      quantity: '90 tablets',\r\n      refills: '6',\r\n      instructions: 'Take once daily at bedtime',\r\n      submittedAt: new Date('2024-01-13'),\r\n      status: 'filled',\r\n      imageUrl: '/images/prescription-sample3.jpg'\r\n    }\r\n  ]\r\n\r\n  prescriptions.value = mockPrescriptions\r\n  totalPrescriptions.value = mockPrescriptions.length\r\n}\r\n\r\n// Methods\r\nconst formatDate = (date) => {\r\n  return new Date(date).toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric'\r\n  })\r\n}\r\n\r\nconst getStatusClass = (status) => {\r\n  const statusClasses = {\r\n    pending: 'bg-yellow-100 text-yellow-800',\r\n    approved: 'bg-green-100 text-green-800',\r\n    filled: 'bg-blue-100 text-blue-800',\r\n    rejected: 'bg-red-100 text-red-800'\r\n  }\r\n  return statusClasses[status] || 'bg-gray-100 text-gray-800'\r\n}\r\n\r\nconst viewPrescription = (prescription) => {\r\n  selectedPrescription.value = prescription\r\n}\r\n\r\nconst approvePrescription = (prescription) => {\r\n  prescription.status = 'approved'\r\n  console.log('Approved prescription:', prescription.id)\r\n  selectedPrescription.value = null\r\n}\r\n\r\nconst rejectPrescription = (prescription) => {\r\n  prescription.status = 'rejected'\r\n  console.log('Rejected prescription:', prescription.id)\r\n  selectedPrescription.value = null\r\n}\r\n\r\nconst fillPrescription = (prescription) => {\r\n  prescription.status = 'filled'\r\n  console.log('Filled prescription:', prescription.id)\r\n  selectedPrescription.value = null\r\n}\r\n\r\n// Load prescriptions on mount\r\nonMounted(() => {\r\n  loadPrescriptions()\r\n})\r\n</script>\r\n"],"version":3}