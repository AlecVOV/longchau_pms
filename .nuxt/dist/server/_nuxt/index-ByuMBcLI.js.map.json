{"file":"index-ByuMBcLI.js","mappings":"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","names":[],"sources":["../../../../pages/products/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"py-8 md:py-12\">\r\n    <div class=\"container mx-auto px-4\">\r\n      <!-- Page Header -->\r\n      <div class=\"mb-8\">\r\n        <h1 class=\"text-3xl font-bold text-gray-900 mb-4\">\r\n          {{ pageTitle }}\r\n        </h1>\r\n        <nav class=\"flex\" aria-label=\"Breadcrumb\">\r\n          <ol class=\"inline-flex items-center space-x-1 md:space-x-3\">\r\n            <li class=\"inline-flex items-center\">\r\n              <NuxtLink to=\"/\" class=\"text-gray-500 hover:text-gray-700\">\r\n                Home\r\n              </NuxtLink>\r\n            </li>\r\n            <li>\r\n              <div class=\"flex items-center\">\r\n                <svg class=\"w-6 h-6 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fill-rule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clip-rule=\"evenodd\"></path>\r\n                </svg>\r\n                <span class=\"ml-1 text-gray-500 md:ml-2\">{{ pageTitle }}</span>\r\n              </div>\r\n            </li>\r\n          </ol>\r\n        </nav>\r\n      </div>\r\n\r\n      <!-- Search and Filters -->\r\n      <div class=\"bg-white rounded-lg shadow-sm p-6 mb-8\">\r\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <!-- Search Input -->\r\n          <div class=\"md:col-span-2\">\r\n            <div class=\"relative\">\r\n              <input\r\n                v-model=\"searchQuery\"\r\n                type=\"text\"\r\n                placeholder=\"Search products...\"\r\n                class=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                @input=\"debouncedSearch\"\r\n              />\r\n              <svg class=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Category Filter -->\r\n          <div>\r\n            <select\r\n              v-model=\"selectedCategory\"\r\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              @change=\"applyFilters\"\r\n            >\r\n              <option value=\"\">All Categories</option>\r\n              <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">\r\n                {{ category.name }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <!-- Sort Options -->\r\n          <div>\r\n            <select\r\n              v-model=\"sortBy\"\r\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              @change=\"applyFilters\"\r\n            >\r\n              <option value=\"name_asc\">Name A-Z</option>\r\n              <option value=\"name_desc\">Name Z-A</option>\r\n              <option value=\"price_asc\">Price Low to High</option>\r\n              <option value=\"price_desc\">Price High to Low</option>\r\n              <option value=\"newest\">Newest First</option>\r\n              <option value=\"popular\">Most Popular</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Advanced Filters -->\r\n        <div class=\"mt-4 pt-4 border-t border-gray-200\">\r\n          <button\r\n            @click=\"showAdvancedFilters = !showAdvancedFilters\"\r\n            class=\"flex items-center text-blue-600 hover:text-blue-700\"\r\n          >\r\n            <span>Advanced Filters</span>\r\n            <svg\r\n              :class=\"{ 'rotate-180': showAdvancedFilters }\"\r\n              class=\"ml-2 h-4 w-4 transform transition-transform\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\r\n            </svg>\r\n          </button>\r\n\r\n          <div v-show=\"showAdvancedFilters\" class=\"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <!-- Price Range -->\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Price Range</label>\r\n              <div class=\"flex items-center space-x-2\">\r\n                <input\r\n                  v-model=\"priceRange.min\"\r\n                  type=\"number\"\r\n                  placeholder=\"Min\"\r\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                />\r\n                <span class=\"text-gray-500\">-</span>\r\n                <input\r\n                  v-model=\"priceRange.max\"\r\n                  type=\"number\"\r\n                  placeholder=\"Max\"\r\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n            </div>\r\n        \r\n            <!-- Brand Filter -->\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Brand</label>\r\n              <select\r\n                v-model=\"selectedBrand\"\r\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value=\"\">All Brands</option>\r\n                <option v-for=\"brand in brands\" :key=\"brand\" :value=\"brand\">\r\n                  {{ brand }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n        \r\n            <!-- Availability Filter -->\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Availability</label>\r\n              <div class=\"space-y-2\">\r\n                <label class=\"flex items-center\">\r\n                  <input\r\n                    v-model=\"inStockOnly\"\r\n                    type=\"checkbox\"\r\n                    class=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\r\n                  />\r\n                  <span class=\"ml-2 text-sm text-gray-700\">In Stock Only</span>\r\n                </label>\r\n                <label class=\"flex items-center\">\r\n                  <input\r\n                    v-model=\"prescriptionOnly\"\r\n                    type=\"checkbox\"\r\n                    class=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\r\n                  />\r\n                  <span class=\"ml-2 text-sm text-gray-700\">Prescription Required</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mt-4 flex space-x-2\">\r\n            <button\r\n              @click=\"applyFilters\"\r\n              class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n            >\r\n              Apply Filters\r\n            </button>\r\n            <button\r\n              @click=\"clearFilters\"\r\n              class=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400\"\r\n            >\r\n              Clear All\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Results Summary -->\r\n      <div class=\"flex justify-between items-center mb-6\">\r\n        <div class=\"text-gray-600\">\r\n          Showing {{ products.length }} of {{ totalProducts }} products\r\n        </div>\r\n        <div class=\"flex items-center space-x-2\">\r\n          <span class=\"text-sm text-gray-600\">View:</span>\r\n          <button\r\n            @click=\"viewMode = 'grid'\"\r\n            :class=\"{ 'bg-blue-600 text-white': viewMode === 'grid', 'bg-gray-200 text-gray-700': viewMode !== 'grid' }\"\r\n            class=\"p-2 rounded-lg\"\r\n          >\r\n            <svg class=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path d=\"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z\" />\r\n            </svg>\r\n          </button>\r\n          <button\r\n            @click=\"viewMode = 'list'\"\r\n            :class=\"{ 'bg-blue-600 text-white': viewMode === 'list', 'bg-gray-200 text-gray-700': viewMode !== 'list' }\"\r\n            class=\"p-2 rounded-lg\"\r\n          >\r\n            <svg class=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path fill-rule=\"evenodd\" d=\"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\" clip-rule=\"evenodd\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Loading State -->\r\n      <div v-if=\"loading\" class=\"flex justify-center items-center py-12\">\r\n        <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n\r\n      <!-- Products Grid/List -->\r\n      <div v-else-if=\"products.length > 0\">\r\n        <!-- Grid View -->\r\n        <div v-if=\"viewMode === 'grid'\" class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n          <ProductCard\r\n            v-for=\"product in products\"\r\n            :key=\"product.id\"\r\n            :product=\"product\"\r\n            @add-to-cart=\"addToCart\"\r\n            @quick-view=\"openQuickView\"\r\n            @add-to-wishlist=\"addToWishlist\"\r\n          />\r\n        </div>\r\n\r\n        <!-- List View -->\r\n        <div v-else class=\"space-y-4\">\r\n          <ProductListItem\r\n            v-for=\"product in products\"\r\n            :key=\"product.id\"\r\n            :product=\"product\"\r\n            @add-to-cart=\"addToCart\"\r\n            @quick-view=\"openQuickView\"\r\n            @add-to-wishlist=\"addToWishlist\"\r\n          />\r\n        </div>\r\n\r\n        <!-- Pagination -->\r\n        <div class=\"mt-12 flex justify-center\">\r\n          <nav class=\"flex items-center space-x-2\">\r\n            <button\r\n              @click=\"goToPage(currentPage - 1)\"\r\n              :disabled=\"currentPage === 1\"\r\n              class=\"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              Previous\r\n            </button>\r\n            \r\n            <button\r\n              v-for=\"page in visiblePages\"\r\n              :key=\"page\"\r\n              @click=\"goToPage(page)\"\r\n              :class=\"{\r\n                'bg-blue-600 text-white': page === currentPage,\r\n                'text-gray-500 bg-white hover:bg-gray-50': page !== currentPage\r\n              }\"\r\n              class=\"px-3 py-2 text-sm font-medium border border-gray-300 rounded-lg\"\r\n            >\r\n              {{ page }}\r\n            </button>\r\n\r\n            <button\r\n              @click=\"goToPage(currentPage + 1)\"\r\n              :disabled=\"currentPage === totalPages\"\r\n              class=\"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              Next\r\n            </button>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- No Results -->\r\n      <div v-else class=\"text-center py-12\">\r\n        <div class=\"w-24 h-24 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center\">\r\n          <svg class=\"w-12 h-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n          </svg>\r\n        </div>\r\n        <h3 class=\"text-lg font-medium text-gray-900 mb-2\">No products found</h3>\r\n        <p class=\"text-gray-500 mb-4\">Try adjusting your search or filters to find what you're looking for.</p>\r\n        <button\r\n          @click=\"clearFilters\"\r\n          class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n        >\r\n          Clear All Filters\r\n        </button>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Quick View Modal -->\r\n    <ProductQuickView\r\n      :is-open=\"quickViewOpen\"\r\n      :product=\"selectedProduct\"\r\n      @close=\"closeQuickView\"\r\n      @add-to-cart=\"handleQuickViewAddToCart\"\r\n      @add-to-wishlist=\"addToWishlist\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useProductsStore } from '~/stores/products'\r\nimport { useCartStore } from '~/stores/cart'\r\nimport { useNotificationsStore } from '~/stores/notifications'\r\nimport ProductQuickView from '~/components/ProductQuickView.vue'\r\n\r\nconst productsStore = useProductsStore()\r\nconst cartStore = useCartStore()\r\nconst notifications = useNotificationsStore()\r\nconst route = useRoute()\r\n\r\n// Reactive data\r\nconst loading = ref(false)\r\nconst searchQuery = ref('')\r\nconst selectedCategory = ref('')\r\nconst selectedBrand = ref('')\r\nconst sortBy = ref('name_asc')\r\nconst viewMode = ref('grid')\r\nconst showAdvancedFilters = ref(false)\r\nconst inStockOnly = ref(false)\r\nconst prescriptionOnly = ref(false)\r\nconst priceRange = ref({ min: '', max: '' })\r\nconst currentPage = ref(1)\r\nconst itemsPerPage = 12\r\n\r\n// Quick View data\r\nconst quickViewOpen = ref(false)\r\nconst selectedProduct = ref(null)\r\n\r\n// Computed properties\r\nconst products = computed(() => {\r\n  // If there's a search query, use search results; otherwise use filtered products\r\n  if (searchQuery.value.trim()) {\r\n    return productsStore.searchResults || []\r\n  }\r\n  return productsStore.getFilteredProducts\r\n})\r\nconst categories = computed(() => productsStore.categories)\r\nconst brands = computed(() => {\r\n  const allBrands = productsStore.products.map(product => product.brand).filter(Boolean)\r\n  return [...new Set(allBrands)].sort()\r\n})\r\nconst totalProducts = computed(() => {\r\n  // If there's a search query, use search results count; otherwise use pagination total\r\n  if (searchQuery.value.trim()) {\r\n    return productsStore.searchResults?.length || 0\r\n  }\r\n  return productsStore.pagination.totalItems\r\n})\r\nconst totalPages = computed(() => Math.ceil(totalProducts.value / itemsPerPage))\r\nconst pageTitle = computed(() => {\r\n  if (selectedCategory.value) {\r\n    const category = categories.value.find(cat => cat.id === selectedCategory.value)\r\n    return category?.name || 'Products'\r\n  }\r\n  return searchQuery.value ? `Search results for \"${searchQuery.value}\"` : 'All Products'\r\n})\r\n\r\nconst visiblePages = computed(() => {\r\n  const pages = []\r\n  const start = Math.max(1, currentPage.value - 2)\r\n  const end = Math.min(totalPages.value, currentPage.value + 2)\r\n  \r\n  for (let i = start; i <= end; i++) {\r\n    pages.push(i)\r\n  }\r\n  return pages\r\n})\r\n\r\n// Methods\r\nconst debouncedSearch = debounce(() => {\r\n  applyFilters()\r\n}, 300)\r\n\r\nconst applyFilters = async () => {\r\n  loading.value = true\r\n  \r\n  const filters = {\r\n    category: selectedCategory.value,\r\n    brand: selectedBrand.value,\r\n    priceRange: {\r\n      min: priceRange.value.min ? parseFloat(priceRange.value.min) : 0,\r\n      max: priceRange.value.max ? parseFloat(priceRange.value.max) : 10000\r\n    },\r\n    inStock: inStockOnly.value,\r\n    prescriptionOnly: prescriptionOnly.value,\r\n    sortBy: sortBy.value,\r\n    page: currentPage.value,\r\n    limit: itemsPerPage\r\n  }\r\n  \r\n  productsStore.setFilters(filters)\r\n  \r\n  try {\r\n    if (searchQuery.value.trim()) {\r\n      await productsStore.searchProducts(searchQuery.value, filters)\r\n    } else {\r\n      // Clear search results when no search query\r\n      productsStore.searchResults = []\r\n      await productsStore.fetchProducts(filters)\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching products:', error)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst clearFilters = () => {\r\n  searchQuery.value = ''\r\n  selectedCategory.value = ''\r\n  selectedBrand.value = ''\r\n  sortBy.value = 'name_asc'\r\n  inStockOnly.value = false\r\n  prescriptionOnly.value = false\r\n  priceRange.value = { min: '', max: '' }\r\n  currentPage.value = 1\r\n  \r\n  // Clear search results\r\n  productsStore.searchResults = []\r\n  productsStore.clearFilters()\r\n  applyFilters()\r\n}\r\n\r\nconst goToPage = (page) => {\r\n  if (page >= 1 && page <= totalPages.value) {\r\n    currentPage.value = page\r\n    productsStore.setCurrentPage(page)\r\n    applyFilters()\r\n    \r\n    // Scroll to top\r\n    window.scrollTo({ top: 0, behavior: 'smooth' })\r\n  }\r\n}\r\n\r\nconst addToCart = (product, quantity = 1) => {\r\n  cartStore.addItem(product, quantity)\r\n  notifications.success(`${product.name} added to cart!`)\r\n}\r\n\r\nconst addToWishlist = (product) => {\r\n  // Show success notification when wishlist button is clicked\r\n  notifications.success(`${product.name} added to wishlist!`, {\r\n    duration: 3000\r\n  })\r\n  console.log('Added to wishlist:', product.name)\r\n}\r\n\r\n// Quick View methods\r\nconst openQuickView = (product) => {\r\n  selectedProduct.value = product\r\n  quickViewOpen.value = true\r\n}\r\n\r\nconst closeQuickView = () => {\r\n  quickViewOpen.value = false\r\n  selectedProduct.value = null\r\n}\r\n\r\nconst handleQuickViewAddToCart = ({ product, quantity }) => {\r\n  cartStore.addItem(product, quantity)\r\n  notifications.success(`${product.name} (${quantity}x) added to cart!`)\r\n}\r\n\r\n// Utility function\r\nfunction debounce(func, wait) {\r\n  let timeout\r\n  return function executedFunction(...args) {\r\n    const later = () => {\r\n      clearTimeout(timeout)\r\n      func(...args)\r\n    }\r\n    clearTimeout(timeout)\r\n    timeout = setTimeout(later, wait)\r\n  }\r\n}\r\n\r\n// Initialize\r\nonMounted(async () => {\r\n  // Get category from route params if exists\r\n  if (route.params.category) {\r\n    selectedCategory.value = route.params.category\r\n  }\r\n  \r\n  // Get search query from URL params\r\n  if (route.query.search) {\r\n    searchQuery.value = route.query.search\r\n  }\r\n  \r\n  // Load categories\r\n  await productsStore.fetchCategories()\r\n  \r\n  // Load initial products\r\n  await applyFilters()\r\n})\r\n\r\n// Watch for route changes\r\nwatch(() => route.query, (newQuery) => {\r\n  if (newQuery.search !== searchQuery.value) {\r\n    searchQuery.value = newQuery.search || ''\r\n    applyFilters()\r\n  }\r\n})\r\n\r\nuseHead({\r\n  title: () => `${pageTitle.value} - Long Châu`,\r\n  meta: [\r\n    {\r\n      name: 'description',\r\n      content: () => `Browse ${pageTitle.value.toLowerCase()} at Long Châu. Find quality medications and health products with fast delivery.`\r\n    }\r\n  ]\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.animate-spin {\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  from { transform: rotate(0deg); }\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.rotate-180 {\r\n  transform: rotate(180deg);\r\n}\r\n</style>\r\n"],"version":3}