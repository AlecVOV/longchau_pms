import{u as F,q as E,c as h,r as b,j as O,x as q,a as n,k as D,b as e,t as r,m as s,d as k,e as m,w as c,n as g,P as v,h as u,y as I,f as w,v as _,F as z,g as A,_ as T,H as G,o as i}from"./4Al0cLfe.js";const J={class:"min-h-screen bg-gray-50"},K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Q={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},W={class:"lg:col-span-1"},X={class:"bg-white rounded-lg shadow-sm"},Y={class:"p-6"},Z={class:"flex items-center space-x-3 mb-6"},ee={class:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"},te={class:"text-blue-600 font-semibold text-lg"},se={class:"font-semibold text-gray-900"},oe={class:"text-sm text-gray-500"},le={class:"space-y-2"},re={key:0,class:"pt-4 mt-4 border-t border-gray-200"},ne={key:1},ie={key:2},ae={key:3},de={class:"lg:col-span-2"},ue={class:"bg-white rounded-lg shadow-sm mb-8"},me={class:"p-6"},ce={class:"flex items-center justify-between mb-6"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xe={class:"flex justify-end space-x-3 mt-6"},ge=["disabled"],fe={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ve={class:"mt-1 text-sm text-gray-900"},be={class:"mt-1 text-sm text-gray-900"},ye={class:"mt-1 text-sm text-gray-900"},he={class:"mt-1 text-sm text-gray-900"},ke={class:"mt-1 text-sm text-gray-900"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_e={class:"bg-white rounded-lg shadow-sm p-6"},Me={key:0,class:"text-center py-4"},Ne={key:1,class:"space-y-3"},Ce={class:"font-medium text-gray-900"},je={class:"text-sm text-gray-500"},Se={class:"text-right"},Ve={class:"font-medium text-gray-900"},Be={class:"mt-4"},ze={class:"bg-white rounded-lg shadow-sm p-6"},Ae={key:0,class:"text-center py-4"},Le={key:1,class:"space-y-3"},Pe={class:"font-medium text-gray-900"},$e={class:"text-sm text-yellow-700"},He={class:"mt-4"},Fe={__name:"index",setup(Re){F({title:"My Account - Long ChÃ¢u",meta:[{name:"description",content:"Manage your account, view orders, prescriptions, and update your profile information."}]});const x=E(),a=h(()=>x.user),f=b(!1),y=b(!1),p=b({firstName:"",lastName:"",email:"",phone:""}),M=b([]),N=b([]),L=h(()=>a.value?`${a.value.firstName||""} ${a.value.lastName||""}`.trim():"User"),P=h(()=>{if(!a.value)return"U";const o=a.value.firstName||"",t=a.value.lastName||"";return`${o.charAt(0)}${t.charAt(0)}`.toUpperCase()}),$=h(()=>{var o;return(o=a.value)!=null&&o.createdAt?new Date(a.value.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Unknown"}),H=async()=>{var o;y.value=!0;try{await x.updateProfile(p.value),f.value=!1,alert("Profile updated successfully!")}catch(t){console.error("Profile update error:",t);{const d=((o=t==null?void 0:t.data)==null?void 0:o.statusMessage)||(t==null?void 0:t.message)||"Failed to update profile";alert("Error: "+d)}}finally{y.value=!1}},R=async()=>{await x.logout(),G("/")},U=o=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[o.toLowerCase()]||"bg-gray-100 text-gray-800";return O(a,o=>{o&&(p.value={firstName:o.firstName||"",lastName:o.lastName||"",email:o.email||"",phone:o.phone||""})},{immediate:!0}),q(async()=>{}),(o,t)=>{var C,j,S,V,B;const d=T;return i(),n("div",J,[t[38]||(t[38]=D('<div class="bg-white shadow-sm"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="py-6"><div class="flex items-center justify-between"><div><h1 class="text-3xl font-bold text-gray-900">My Account</h1><p class="mt-1 text-sm text-gray-500">Manage your profile and account settings</p></div><div class="flex items-center space-x-4"><span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800"><span class="w-2 h-2 bg-green-400 rounded-full mr-2"></span> Active Account </span></div></div></div></div></div>',1)),e("div",K,[e("div",Q,[e("div",W,[e("nav",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("span",te,r(s(P)),1)]),e("div",null,[e("h3",se,r(s(L)),1),e("p",oe,r((C=s(a))==null?void 0:C.email),1)])]),e("ul",le,[e("li",null,[m(d,{to:"/account",class:g(["flex items-center px-3 py-2 text-sm font-medium rounded-md",(o._.provides[v]||o.$route).path==="/account"?"bg-blue-50 text-blue-700":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"])},{default:c(()=>t[6]||(t[6]=[e("svg",{class:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),u(" My Profile ")])),_:1,__:[6]},8,["class"])]),e("li",null,[m(d,{to:"/account/orders",class:g(["flex items-center px-3 py-2 text-sm font-medium rounded-md",(o._.provides[v]||o.$route).path==="/account/orders"?"bg-blue-50 text-blue-700":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"])},{default:c(()=>t[7]||(t[7]=[e("svg",{class:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1),u(" Order History ")])),_:1,__:[7]},8,["class"])]),e("li",null,[m(d,{to:"/account/prescriptions",class:g(["flex items-center px-3 py-2 text-sm font-medium rounded-md",(o._.provides[v]||o.$route).path==="/account/prescriptions"?"bg-blue-50 text-blue-700":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"])},{default:c(()=>t[8]||(t[8]=[e("svg",{class:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),u(" Prescriptions ")])),_:1,__:[8]},8,["class"])]),e("li",null,[m(d,{to:"/account/medication-reminders",class:g(["flex items-center px-3 py-2 text-sm font-medium rounded-md",(o._.provides[v]||o.$route).path==="/account/medication-reminders"?"bg-blue-50 text-blue-700":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"])},{default:c(()=>t[9]||(t[9]=[e("svg",{class:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM8.5 14C7.12 14 6 12.88 6 11.5S7.12 9 8.5 9 11 10.12 11 11.5 9.88 14 8.5 14z"})],-1),u(" Medication Reminders ")])),_:1,__:[9]},8,["class"])]),e("li",null,[m(d,{to:"/account/addresses",class:g(["flex items-center px-3 py-2 text-sm font-medium rounded-md",(o._.provides[v]||o.$route).path==="/account/addresses"?"bg-blue-50 text-blue-700":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"])},{default:c(()=>t[10]||(t[10]=[e("svg",{class:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1),u(" Addresses ")])),_:1,__:[10]},8,["class"])]),e("li",null,[m(d,{to:"/account/settings",class:g(["flex items-center px-3 py-2 text-sm font-medium rounded-md",(o._.provides[v]||o.$route).path==="/account/settings"?"bg-blue-50 text-blue-700":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"])},{default:c(()=>t[11]||(t[11]=[e("svg",{class:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),u(" Account Settings ")])),_:1,__:[11]},8,["class"])]),s(x).getUserRole==="admin"?(i(),n("li",re,t[12]||(t[12]=[e("div",{class:"px-3 py-2"},[e("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Admin Panel")],-1)]))):k("",!0),s(x).getUserRole==="admin"?(i(),n("li",ne,[m(d,{to:"/admin/products",class:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:text-blue-600 hover:bg-gray-50"},{default:c(()=>t[13]||(t[13]=[e("svg",{class:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),u(" Manage Products ")])),_:1,__:[13]})])):k("",!0),s(x).getUserRole==="admin"?(i(),n("li",ie,[m(d,{to:"/admin/inventory",class:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:text-blue-600 hover:bg-gray-50"},{default:c(()=>t[14]||(t[14]=[e("svg",{class:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),u(" Inventory Management ")])),_:1,__:[14]})])):k("",!0),s(x).getUserRole==="admin"?(i(),n("li",ae,[m(d,{to:"/admin/categories",class:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:text-blue-600 hover:bg-gray-50"},{default:c(()=>t[15]||(t[15]=[e("svg",{class:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1),u(" Categories ")])),_:1,__:[15]})])):k("",!0),e("li",null,[e("button",{onClick:R,class:"w-full flex items-center px-3 py-2 text-sm font-medium rounded-md text-red-700 hover:text-red-600 hover:bg-red-50"},t[16]||(t[16]=[e("svg",{class:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),u(" Sign Out ")]))])])])])]),e("div",de,[e("div",ue,[e("div",me,[e("div",ce,[t[18]||(t[18]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Profile Information",-1)),e("button",{onClick:t[0]||(t[0]=l=>f.value=!s(f)),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},[t[17]||(t[17]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),u(" "+r(s(f)?"Cancel":"Edit Profile"),1)])]),s(f)?(i(),n("form",{key:0,onSubmit:I(H,["prevent"])},[e("div",pe,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"First Name",-1)),w(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>s(p).firstName=l),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[_,s(p).firstName]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Last Name",-1)),w(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s(p).lastName=l),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[_,s(p).lastName]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email",-1)),w(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>s(p).email=l),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[_,s(p).email]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Phone",-1)),w(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>s(p).phone=l),type:"tel",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[_,s(p).phone]])])]),e("div",xe,[e("button",{type:"button",onClick:t[5]||(t[5]=l=>f.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{type:"submit",disabled:s(y),class:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50"},r(s(y)?"Saving...":"Save Changes"),9,ge)])],32)):(i(),n("div",fe,[e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-500"},"First Name",-1)),e("p",ve,r(((j=s(a))==null?void 0:j.firstName)||"Not provided"),1)]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-500"},"Last Name",-1)),e("p",be,r(((S=s(a))==null?void 0:S.lastName)||"Not provided"),1)]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-500"},"Email",-1)),e("p",ye,r((V=s(a))==null?void 0:V.email),1)]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-500"},"Phone",-1)),e("p",he,r(((B=s(a))==null?void 0:B.phone)||"Not provided"),1)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-500"},"Member Since",-1)),e("p",ke,r(s($)),1)]),t[28]||(t[28]=e("div",null,[e("label",{class:"block text-sm font-medium text-gray-500"},"Account Status"),e("span",{class:"mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"}," Active ")],-1))]))])]),e("div",we,[e("div",_e,[t[33]||(t[33]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Recent Orders",-1)),s(M).length===0?(i(),n("div",Me,[t[30]||(t[30]=e("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1)),t[31]||(t[31]=e("p",{class:"text-gray-500 text-sm"},"No orders yet",-1)),m(d,{to:"/products",class:"text-blue-600 hover:text-blue-500 text-sm font-medium"},{default:c(()=>t[29]||(t[29]=[u(" Start Shopping ")])),_:1,__:[29]})])):(i(),n("div",Ne,[(i(!0),n(z,null,A(s(M),l=>(i(),n("div",{key:l.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",null,[e("p",Ce,"Order #"+r(l.id.slice(-8)),1),e("p",je,r(l.date),1)]),e("div",Se,[e("p",Ve,"$"+r(l.total.toFixed(2)),1),e("span",{class:g(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",U(l.status)])},r(l.status),3)])]))),128))])),e("div",Be,[m(d,{to:"/account/orders",class:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500"},{default:c(()=>t[32]||(t[32]=[u(" View all orders "),e("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1,__:[32]})])]),e("div",ze,[t[37]||(t[37]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Prescription Refills",-1)),s(N).length===0?(i(),n("div",Ae,t[34]||(t[34]=[e("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"text-gray-500 text-sm"},"No prescriptions need refilling",-1)]))):(i(),n("div",Le,[(i(!0),n(z,null,A(s(N),l=>(i(),n("div",{key:l.id,class:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200"},[e("div",null,[e("p",Pe,r(l.medication),1),e("p",$e,r(l.daysLeft)+" days remaining",1)]),t[35]||(t[35]=e("button",{class:"px-3 py-1 bg-yellow-600 text-white text-sm rounded-md hover:bg-yellow-700"}," Refill ",-1))]))),128))])),e("div",He,[m(d,{to:"/account/prescriptions",class:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500"},{default:c(()=>t[36]||(t[36]=[u(" Manage prescriptions "),e("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1,__:[36]})])])])])])])])}}};export{Fe as default};
