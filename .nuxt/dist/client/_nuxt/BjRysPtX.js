import{u as R,q as T,r as i,a,k as F,b as e,d as h,m as s,t as m,y as O,f as g,v as S,n as d,F as $,g as H,A as k,H as j,o as u}from"./4Al0cLfe.js";const L={class:"min-h-screen bg-gray-50"},B={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},q={class:"space-y-8"},z={class:"bg-white rounded-lg shadow-sm p-6"},G={class:"border-b border-gray-200 pb-6 mb-6"},Y={class:"flex items-center justify-between"},I={key:0,class:"mt-6"},J={class:"flex space-x-3"},W=["disabled"],K={class:"border-b border-gray-200 pb-6 mb-6"},Q={class:"flex items-center justify-between"},X={class:"flex items-center"},Z={class:"text-sm text-gray-500 mr-3"},ee={class:"space-y-3"},te={class:"flex items-center"},se={class:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mr-4"},oe={class:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ne={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},le={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"},re={class:"font-medium text-gray-900"},ie={class:"text-sm text-gray-500"},ae={key:0,class:"text-xs text-green-600 font-medium"},de=["onClick"],ue={class:"bg-white rounded-lg shadow-sm p-6"},ce={class:"space-y-6"},me={class:"flex items-center justify-between"},ge={class:"flex items-center justify-between"},xe={class:"flex items-center justify-between"},fe={class:"bg-white rounded-lg shadow-sm p-6"},be={class:"space-y-6"},ye={class:"space-y-4"},pe={class:"flex items-center justify-between"},ve={class:"flex items-center justify-between"},we={class:"flex items-center justify-between"},he={class:"flex items-center justify-between"},ke={class:"space-y-4"},Ce={class:"flex items-center justify-between"},Se={class:"bg-white rounded-lg shadow-sm p-6"},je={class:"space-y-6"},Ae={class:"flex items-center justify-between"},_e={class:"flex justify-end"},Ve=["disabled"],Pe={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ue={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},De={class:"flex space-x-3"},Ee={__name:"settings",setup(Ne){R({title:"Account Settings - Long Châu",meta:[{name:"description",content:"Manage your account settings, privacy preferences, and security options."}]});const A=T(),x=i(!1),C=i(!1),p=i(!1),v=i(!1),f=i(!1),b=i(!1),c=i({current:"",new:"",confirm:""}),l=i({analytics:!0,marketing:!1,profileVisible:!1}),r=i({orderUpdates:!0,prescriptionReminders:!0,healthTips:!1,specialOffers:!1}),y=i([{id:"1",browser:"Chrome",os:"Windows",location:"Ho Chi Minh City, Vietnam",lastActive:"2 minutes ago",device:"desktop",current:!0}]),_=async()=>{if(c.value.new!==c.value.confirm){alert("New passwords do not match");return}p.value=!0;try{console.log("Changing password..."),c.value={current:"",new:"",confirm:""},x.value=!1,alert("Password changed successfully"),await j("/account")}catch(n){console.error("Error changing password:",n),alert("Failed to change password")}finally{p.value=!1}},V=async()=>{try{f.value=!f.value,console.log("Two-factor authentication:",f.value?"enabled":"disabled")}catch(n){console.error("Error toggling two-factor authentication:",n)}},P=async()=>{b.value?b.value=!1:"Notification"in window&&await Notification.requestPermission()==="granted"&&(b.value=!0)},U=async n=>{try{const t=y.value.findIndex(o=>o.id===n);t!==-1&&y.value.splice(t,1),console.log("Session revoked:",n)}catch(t){console.error("Error revoking session:",t)}},D=async()=>{if(confirm("Are you sure you want to sign out all devices? You will need to sign in again on all devices."))try{y.value=y.value.filter(n=>n.current),console.log("All sessions revoked")}catch(n){console.error("Error revoking all sessions:",n)}},N=async()=>{try{const n={profile:A.user,settings:{privacy:l.value,notifications:r.value},exportDate:new Date().toISOString()},t=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),o=window.URL.createObjectURL(t),w=document.createElement("a");w.href=o,w.download="my-data-export.json",w.click(),window.URL.revokeObjectURL(o)}catch(n){console.error("Error downloading data:",n)}},M=async()=>{try{console.log("Deleting account..."),await A.logout(),await j("/login")}catch(n){console.error("Error deleting account:",n)}},E=async()=>{v.value=!0;try{console.log("Saving settings...",{privacy:l.value,notifications:r.value}),alert("Settings saved successfully"),await j("/account")}catch(n){console.error("Error saving settings:",n),alert("Failed to save settings")}finally{v.value=!1}};return(n,t)=>(u(),a("div",L,[t[38]||(t[38]=F('<div class="bg-white shadow-sm"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="py-6"><h1 class="text-3xl font-bold text-gray-900">Account Settings</h1><p class="mt-1 text-sm text-gray-500">Manage your account preferences and security settings</p></div></div></div>',1)),e("div",B,[e("div",q,[e("div",z,[t[20]||(t[20]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Security Settings",-1)),e("div",G,[e("div",Y,[t[14]||(t[14]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Password"),e("p",{class:"text-sm text-gray-500"},"Update your password to keep your account secure")],-1)),e("button",{onClick:t[0]||(t[0]=o=>x.value=!s(x)),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},m(s(x)?"Cancel":"Change Password"),1)]),s(x)?(u(),a("div",I,[e("form",{onSubmit:O(_,["prevent"]),class:"space-y-4 max-w-md"},[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Current Password",-1)),g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s(c).current=o),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[S,s(c).current]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"New Password",-1)),g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s(c).new=o),type:"password",required:"",minlength:"8",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[S,s(c).new]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Confirm New Password",-1)),g(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s(c).confirm=o),type:"password",required:"",minlength:"8",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[S,s(c).confirm]])]),e("div",J,[e("button",{type:"submit",disabled:s(p),class:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50"},m(s(p)?"Updating...":"Update Password"),9,W),e("button",{type:"button",onClick:t[4]||(t[4]=o=>x.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Cancel ")])],32)])):h("",!0)]),e("div",K,[e("div",Q,[t[18]||(t[18]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Two-Factor Authentication"),e("p",{class:"text-sm text-gray-500"},"Add an extra layer of security to your account")],-1)),e("div",X,[e("span",Z,m(s(f)?"Enabled":"Disabled"),1),e("button",{onClick:V,class:d([s(f)?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700","relative inline-flex items-center h-6 w-11 rounded-full transition-colors"])},[e("span",{class:d([s(f)?"translate-x-6":"translate-x-1","inline-block w-4 h-4 bg-white rounded-full transition-transform"])},null,2)],2)])])]),e("div",null,[e("div",{class:"flex items-center justify-between mb-4"},[t[19]||(t[19]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Active Sessions"),e("p",{class:"text-sm text-gray-500"},"Manage devices that are signed into your account")],-1)),e("button",{onClick:D,class:"text-sm text-red-600 hover:text-red-500 font-medium"}," Sign out all devices ")]),e("div",ee,[(u(!0),a($,null,H(s(y),o=>(u(),a("div",{key:o.id,class:"flex items-center justify-between p-4 border border-gray-200 rounded-lg"},[e("div",te,[e("div",se,[(u(),a("svg",oe,[o.device==="desktop"?(u(),a("path",ne)):(u(),a("path",le))]))]),e("div",null,[e("div",re,m(o.browser)+" on "+m(o.os),1),e("div",ie,m(o.location)+" • "+m(o.lastActive),1),o.current?(u(),a("div",ae,"Current session")):h("",!0)])]),o.current?h("",!0):(u(),a("button",{key:0,onClick:w=>U(o.id),class:"text-sm text-red-600 hover:text-red-500 font-medium"}," Sign out ",8,de))]))),128))])])]),e("div",ue,[t[24]||(t[24]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Privacy Settings",-1)),e("div",ce,[e("div",me,[t[21]||(t[21]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Analytics & Cookies"),e("p",{class:"text-sm text-gray-500"},"Help us improve by sharing usage data")],-1)),e("button",{onClick:t[5]||(t[5]=o=>s(l).analytics=!s(l).analytics),class:d([s(l).analytics?"bg-blue-600":"bg-gray-300","relative inline-flex items-center h-6 w-11 rounded-full transition-colors"])},[e("span",{class:d([s(l).analytics?"translate-x-6":"translate-x-1","inline-block w-4 h-4 bg-white rounded-full transition-transform"])},null,2)],2)]),e("div",ge,[t[22]||(t[22]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Marketing Communications"),e("p",{class:"text-sm text-gray-500"},"Receive promotional emails and updates")],-1)),e("button",{onClick:t[6]||(t[6]=o=>s(l).marketing=!s(l).marketing),class:d([s(l).marketing?"bg-blue-600":"bg-gray-300","relative inline-flex items-center h-6 w-11 rounded-full transition-colors"])},[e("span",{class:d([s(l).marketing?"translate-x-6":"translate-x-1","inline-block w-4 h-4 bg-white rounded-full transition-transform"])},null,2)],2)]),e("div",xe,[t[23]||(t[23]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Profile Visibility"),e("p",{class:"text-sm text-gray-500"},"Make your profile visible to other users")],-1)),e("button",{onClick:t[7]||(t[7]=o=>s(l).profileVisible=!s(l).profileVisible),class:d([s(l).profileVisible?"bg-blue-600":"bg-gray-300","relative inline-flex items-center h-6 w-11 rounded-full transition-colors"])},[e("span",{class:d([s(l).profileVisible?"translate-x-6":"translate-x-1","inline-block w-4 h-4 bg-white rounded-full transition-transform"])},null,2)],2)])])]),e("div",fe,[t[32]||(t[32]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Notification Preferences",-1)),e("div",be,[e("div",null,[t[29]||(t[29]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Email Notifications",-1)),e("div",ye,[e("div",pe,[t[25]||(t[25]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-900"},"Order Updates"),e("p",{class:"text-sm text-gray-500"},"Receive emails about your order status")],-1)),g(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>s(r).orderUpdates=o),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded"},null,512),[[k,s(r).orderUpdates]])]),e("div",ve,[t[26]||(t[26]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-900"},"Prescription Reminders"),e("p",{class:"text-sm text-gray-500"},"Get reminded when it's time to refill")],-1)),g(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>s(r).prescriptionReminders=o),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded"},null,512),[[k,s(r).prescriptionReminders]])]),e("div",we,[t[27]||(t[27]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-900"},"Health Tips"),e("p",{class:"text-sm text-gray-500"},"Receive weekly health and wellness tips")],-1)),g(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>s(r).healthTips=o),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded"},null,512),[[k,s(r).healthTips]])]),e("div",he,[t[28]||(t[28]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-900"},"Special Offers"),e("p",{class:"text-sm text-gray-500"},"Get notified about discounts and promotions")],-1)),g(e("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>s(r).specialOffers=o),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded"},null,512),[[k,s(r).specialOffers]])])])]),e("div",null,[t[31]||(t[31]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Push Notifications",-1)),e("div",ke,[e("div",Ce,[t[30]||(t[30]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-900"},"Browser Notifications"),e("p",{class:"text-sm text-gray-500"},"Get notifications in your browser")],-1)),e("button",{onClick:P,class:d([s(b)?"bg-blue-600":"bg-gray-300","relative inline-flex items-center h-6 w-11 rounded-full transition-colors"])},[e("span",{class:d([s(b)?"translate-x-6":"translate-x-1","inline-block w-4 h-4 bg-white rounded-full transition-transform"])},null,2)],2)])])])])]),e("div",Se,[t[35]||(t[35]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Account Actions",-1)),e("div",je,[e("div",{class:"flex items-center justify-between border-b border-gray-200 pb-6"},[t[33]||(t[33]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Download Your Data"),e("p",{class:"text-sm text-gray-500"},"Get a copy of all your account data")],-1)),e("button",{onClick:N,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"}," Download ")]),e("div",Ae,[t[34]||(t[34]=e("div",null,[e("h3",{class:"text-lg font-medium text-red-900"},"Delete Account"),e("p",{class:"text-sm text-red-600"},"Permanently delete your account and all data")],-1)),e("button",{onClick:t[12]||(t[12]=o=>C.value=!0),class:"inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50"}," Delete Account ")])])]),e("div",_e,[e("button",{onClick:E,disabled:s(v),class:"px-6 py-3 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 disabled:opacity-50"},m(s(v)?"Saving...":"Save Settings"),9,Ve)])])]),s(C)?(u(),a("div",Pe,[e("div",Ue,[t[36]||(t[36]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Delete Account",-1)),t[37]||(t[37]=e("p",{class:"text-sm text-gray-600 mb-6"}," Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed. ",-1)),e("div",De,[e("button",{onClick:t[13]||(t[13]=o=>C.value=!1),class:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:M,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700"}," Delete Account ")])])])):h("",!0)]))}};export{Ee as default};
