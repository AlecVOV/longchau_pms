import{i as ae,B as re,r as d,c as f,x as ne,j as ie,u as de,a as r,b as t,e as G,t as x,m as o,w as ue,f as p,v as U,D as h,E as I,F as V,g as A,k as J,n as S,O as ce,A as K,_ as pe,o as a,h as ve,p as X}from"./4Al0cLfe.js";import me from"./Drma5A4u.js";import ge from"./CQBgD47I.js";import{u as be}from"./FiuJam0s.js";import{u as fe}from"./-W0ciY3d.js";import xe from"./DMq1uD6A.js";import{_ as ye}from"./DlAUqK2U.js";const he={class:"py-8 md:py-12"},we={class:"container mx-auto px-4"},ke={class:"mb-8"},_e={class:"text-3xl font-bold text-gray-900 mb-4"},Ce={class:"flex","aria-label":"Breadcrumb"},Pe={class:"inline-flex items-center space-x-1 md:space-x-3"},Ve={class:"inline-flex items-center"},Ae={class:"flex items-center"},Be={class:"ml-1 text-gray-500 md:ml-2"},Me={class:"bg-white rounded-lg shadow-sm p-6 mb-8"},Te={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Se={class:"md:col-span-2"},Fe={class:"relative"},$e=["value"],ze={class:"mt-4 pt-4 border-t border-gray-200"},Ne={class:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4"},Re={class:"flex items-center space-x-2"},je=["value"],He={class:"space-y-2"},Le={class:"flex items-center"},Ue={class:"flex items-center"},Ie={class:"flex justify-between items-center mb-6"},Oe={class:"text-gray-600"},qe={class:"flex items-center space-x-2"},Qe={key:0,class:"flex justify-center items-center py-12"},We={key:1},De={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},Ee={key:1,class:"space-y-4"},Ze={class:"mt-12 flex justify-center"},Ge={class:"flex items-center space-x-2"},Je=["disabled"],Ke=["onClick"],Xe=["disabled"],Ye={key:2,class:"text-center py-12"},Y=12,et={__name:"index",setup(tt){const n=be(),O=ae(),F=fe(),w=re(),$=d(!1),i=d(""),v=d(""),k=d(""),_=d("name_asc"),g=d("grid"),B=d(!1),C=d(!1),P=d(!1),c=d({min:"",max:""}),u=d(1),z=d(!1),N=d(null),M=f(()=>i.value.trim()?n.searchResults||[]:n.getFilteredProducts),q=f(()=>n.categories),ee=f(()=>{const l=n.products.map(e=>e.brand).filter(Boolean);return[...new Set(l)].sort()}),Q=f(()=>{var l;return i.value.trim()?((l=n.searchResults)==null?void 0:l.length)||0:n.pagination.totalItems}),R=f(()=>Math.ceil(Q.value/Y)),T=f(()=>{if(v.value){const l=q.value.find(e=>e.id===v.value);return(l==null?void 0:l.name)||"Products"}return i.value?`Search results for "${i.value}"`:"All Products"}),te=f(()=>{const l=[],e=Math.max(1,u.value-2),b=Math.min(R.value,u.value+2);for(let y=e;y<=b;y++)l.push(y);return l}),W=le(()=>{m()},300),m=async()=>{$.value=!0;const l={category:v.value,brand:k.value,priceRange:{min:c.value.min?parseFloat(c.value.min):0,max:c.value.max?parseFloat(c.value.max):1e4},inStock:C.value,prescriptionOnly:P.value,sortBy:_.value,page:u.value,limit:Y};n.setFilters(l);try{i.value.trim()?await n.searchProducts(i.value,l):(n.searchResults=[],await n.fetchProducts(l))}catch(e){console.error("Error fetching products:",e)}finally{$.value=!1}},D=()=>{i.value="",v.value="",k.value="",_.value="name_asc",C.value=!1,P.value=!1,c.value={min:"",max:""},u.value=1,n.searchResults=[],n.clearFilters(),m()},j=l=>{l>=1&&l<=R.value&&(u.value=l,n.setCurrentPage(l),m(),window.scrollTo({top:0,behavior:"smooth"}))},E=(l,e=1)=>{O.addItem(l,e),F.success(`${l.name} added to cart!`)},H=l=>{F.success(`${l.name} added to wishlist!`,{duration:3e3}),console.log("Added to wishlist:",l.name)},Z=l=>{N.value=l,z.value=!0},se=()=>{z.value=!1,N.value=null},oe=({product:l,quantity:e})=>{O.addItem(l,e),F.success(`${l.name} (${e}x) added to cart!`)};function le(l,e){let b;return function(...L){const s=()=>{clearTimeout(b),l(...L)};clearTimeout(b),b=setTimeout(s,e)}}return ne(async()=>{w.params.category&&(v.value=w.params.category),w.query.search&&(i.value=w.query.search),await n.fetchCategories(),await m()}),ie(()=>w.query,l=>{l.search!==i.value&&(i.value=l.search||"",m())}),de({title:()=>`${T.value} - Long Châu`,meta:[{name:"description",content:()=>`Browse ${T.value.toLowerCase()} at Long Châu. Find quality medications and health products with fast delivery.`}]}),(l,e)=>{const b=pe,y=me,L=ge;return a(),r("div",he,[t("div",we,[t("div",ke,[t("h1",_e,x(o(T)),1),t("nav",Ce,[t("ol",Pe,[t("li",Ve,[G(b,{to:"/",class:"text-gray-500 hover:text-gray-700"},{default:ue(()=>e[14]||(e[14]=[ve(" Home ")])),_:1,__:[14]})]),t("li",null,[t("div",Ae,[e[15]||(e[15]=t("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),t("span",Be,x(o(T)),1)])])])])]),t("div",Me,[t("div",Te,[t("div",Se,[t("div",Fe,[p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>h(i)?i.value=s:null),type:"text",placeholder:"Search products...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onInput:e[1]||(e[1]=(...s)=>o(W)&&o(W)(...s))},null,544),[[U,o(i)]]),e[16]||(e[16]=t("svg",{class:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),t("div",null,[p(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>h(v)?v.value=s:null),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:m},[e[17]||(e[17]=t("option",{value:""},"All Categories",-1)),(a(!0),r(V,null,A(o(q),s=>(a(),r("option",{key:s.id,value:s.id},x(s.name),9,$e))),128))],544),[[I,o(v)]])]),t("div",null,[p(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>h(_)?_.value=s:null),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:m},e[18]||(e[18]=[J('<option value="name_asc" data-v-ae8d0c03>Name A-Z</option><option value="name_desc" data-v-ae8d0c03>Name Z-A</option><option value="price_asc" data-v-ae8d0c03>Price Low to High</option><option value="price_desc" data-v-ae8d0c03>Price High to Low</option><option value="newest" data-v-ae8d0c03>Newest First</option><option value="popular" data-v-ae8d0c03>Most Popular</option>',6)]),544),[[I,o(_)]])])]),t("div",ze,[t("button",{onClick:e[4]||(e[4]=s=>B.value=!o(B)),class:"flex items-center text-blue-600 hover:text-blue-700"},[e[20]||(e[20]=t("span",null,"Advanced Filters",-1)),(a(),r("svg",{class:S([{"rotate-180":o(B)},"ml-2 h-4 w-4 transform transition-transform"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e[19]||(e[19]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),p(t("div",Ne,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Price Range",-1)),t("div",Re,[p(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o(c).min=s),type:"number",placeholder:"Min",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[U,o(c).min]]),e[21]||(e[21]=t("span",{class:"text-gray-500"},"-",-1)),p(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>o(c).max=s),type:"number",placeholder:"Max",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[U,o(c).max]])])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Brand",-1)),p(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>h(k)?k.value=s:null),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[e[23]||(e[23]=t("option",{value:""},"All Brands",-1)),(a(!0),r(V,null,A(o(ee),s=>(a(),r("option",{key:s,value:s},x(s),9,je))),128))],512),[[I,o(k)]])]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Availability",-1)),t("div",He,[t("label",Le,[p(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>h(C)?C.value=s:null),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[K,o(C)]]),e[25]||(e[25]=t("span",{class:"ml-2 text-sm text-gray-700"},"In Stock Only",-1))]),t("label",Ue,[p(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>h(P)?P.value=s:null),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[K,o(P)]]),e[26]||(e[26]=t("span",{class:"ml-2 text-sm text-gray-700"},"Prescription Required",-1))])])])],512),[[ce,o(B)]]),t("div",{class:"mt-4 flex space-x-2"},[t("button",{onClick:m,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," Apply Filters "),t("button",{onClick:D,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400"}," Clear All ")])])]),t("div",Ie,[t("div",Oe," Showing "+x(o(M).length)+" of "+x(o(Q))+" products ",1),t("div",qe,[e[30]||(e[30]=t("span",{class:"text-sm text-gray-600"},"View:",-1)),t("button",{onClick:e[10]||(e[10]=s=>g.value="grid"),class:S([{"bg-blue-600 text-white":o(g)==="grid","bg-gray-200 text-gray-700":o(g)!=="grid"},"p-2 rounded-lg"])},e[28]||(e[28]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)]),2),t("button",{onClick:e[11]||(e[11]=s=>g.value="list"),class:S([{"bg-blue-600 text-white":o(g)==="list","bg-gray-200 text-gray-700":o(g)!=="list"},"p-2 rounded-lg"])},e[29]||(e[29]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1)]),2)])]),o($)?(a(),r("div",Qe,e[31]||(e[31]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)]))):o(M).length>0?(a(),r("div",We,[o(g)==="grid"?(a(),r("div",De,[(a(!0),r(V,null,A(o(M),s=>(a(),X(y,{key:s.id,product:s,onAddToCart:E,onQuickView:Z,onAddToWishlist:H},null,8,["product"]))),128))])):(a(),r("div",Ee,[(a(!0),r(V,null,A(o(M),s=>(a(),X(L,{key:s.id,product:s,onAddToCart:E,onQuickView:Z,onAddToWishlist:H},null,8,["product"]))),128))])),t("div",Ze,[t("nav",Ge,[t("button",{onClick:e[12]||(e[12]=s=>j(o(u)-1)),disabled:o(u)===1,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Je),(a(!0),r(V,null,A(o(te),s=>(a(),r("button",{key:s,onClick:st=>j(s),class:S([{"bg-blue-600 text-white":s===o(u),"text-gray-500 bg-white hover:bg-gray-50":s!==o(u)},"px-3 py-2 text-sm font-medium border border-gray-300 rounded-lg"])},x(s),11,Ke))),128)),t("button",{onClick:e[13]||(e[13]=s=>j(o(u)+1)),disabled:o(u)===o(R),class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Xe)])])])):(a(),r("div",Ye,[e[32]||(e[32]=J('<div class="w-24 h-24 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center" data-v-ae8d0c03><svg class="w-12 h-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-ae8d0c03><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" data-v-ae8d0c03></path></svg></div><h3 class="text-lg font-medium text-gray-900 mb-2" data-v-ae8d0c03>No products found</h3><p class="text-gray-500 mb-4" data-v-ae8d0c03>Try adjusting your search or filters to find what you&#39;re looking for.</p>',3)),t("button",{onClick:D,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," Clear All Filters ")]))]),G(xe,{"is-open":o(z),product:o(N),onClose:se,onAddToCart:oe,onAddToWishlist:H},null,8,["is-open","product"])])}}},ut=ye(et,[["__scopeId","data-v-ae8d0c03"]]);export{ut as default};
