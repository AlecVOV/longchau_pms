import{r as p,c as S,x as V,K as q,p as j,o as s,a as r,d as l,b as t,m as d,F as B,g as M,n as k,t as n,h as f,_ as P,w as $,e as z,T as A}from"./4Al0cLfe.js";import{u as I}from"./-W0ciY3d.js";const T={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},E={class:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto"},K={key:0,class:"p-6"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},Q={class:"space-y-4"},U={class:"aspect-square overflow-hidden rounded-lg bg-gray-100"},W=["src","alt"],J={key:0,class:"flex space-x-2 overflow-x-auto"},R=["onClick"],G=["src","alt"],X={class:"space-y-6"},Y={class:"text-sm text-gray-500 mb-1"},Z={class:"text-2xl font-bold text-gray-900"},_={class:"flex items-center space-x-2"},tt={class:"flex text-yellow-400"},et={class:"text-sm text-gray-500"},ot={class:"space-y-2"},st={class:"flex items-center space-x-2"},rt={key:0,class:"text-lg text-gray-500 line-through"},nt={class:"text-2xl font-bold text-gray-900"},it={key:1,class:"bg-red-100 text-red-800 text-sm font-medium px-2 py-1 rounded"},lt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},dt={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},at={key:0},ct={class:"text-gray-600 text-sm leading-relaxed"},ut={key:1,class:"space-y-2"},gt={class:"grid grid-cols-2 gap-4 text-sm"},mt={key:0},xt={class:"ml-2 text-gray-900"},yt={key:1},ft={class:"ml-2 text-gray-900"},vt={key:2},ht={class:"flex items-center space-x-3"},pt={class:"w-12 text-center font-medium"},kt={class:"space-y-3"},bt={key:2,disabled:"",class:"w-full bg-gray-300 text-gray-500 py-3 px-4 rounded-lg cursor-not-allowed font-medium"},wt={class:"flex space-x-3"},Ct={key:0,class:"w-5 h-5 mr-2 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},jt={key:1,class:"w-5 h-5 mr-2 transition-all duration-300 text-red-500",fill:"currentColor",viewBox:"0 0 24 24"},Ft={__name:"ProductQuickView",props:{isOpen:{type:Boolean,default:!1},product:{type:Object,default:null}},emits:["close","add-to-cart","add-to-wishlist"],setup(e,{emit:F}){const L=I(),i=e,v=F,c=p(1),g=p(0),h=p(!1),m=S(()=>{var a;if(!((a=i.product)!=null&&a.images))return[];if(Array.isArray(i.product.images))return i.product.images;if(typeof i.product.images=="string")try{const o=JSON.parse(i.product.images);return Array.isArray(o)?o:[o]}catch{return[i.product.images]}return[]}),N=a=>m.value.length>0?m.value[g.value]||m.value[0]:(a==null?void 0:a.image)||"/placeholder-product.jpg",y=()=>{v("close"),c.value=1,g.value=0},O=()=>{v("add-to-cart",{product:i.product,quantity:c.value}),y()},D=()=>{h.value=!0,L.success(`${i.product.name} added to wishlist!`,{duration:3e3}),v("add-to-wishlist",i.product)},b=a=>{a.key==="Escape"&&i.isOpen&&y()};return V(()=>{document.addEventListener("keydown",b)}),q(()=>{document.removeEventListener("keydown",b)}),(a,o)=>{var C;const w=P;return s(),j(A,{to:"body"},[e.isOpen?(s(),r("div",T,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:y}),t("div",E,[t("div",{class:"absolute top-4 right-4 z-10"},[t("button",{onClick:y,class:"bg-white rounded-full p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 transition-colors shadow-md"},o[2]||(o[2]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e.product?(s(),r("div",K,[t("div",H,[t("div",Q,[t("div",U,[t("img",{src:N(e.product),alt:e.product.name,class:"w-full h-full object-cover"},null,8,W)]),d(m).length>1?(s(),r("div",J,[(s(!0),r(B,null,M(d(m),(u,x)=>(s(),r("button",{key:x,onClick:Bt=>g.value=x,class:k([{"ring-2 ring-blue-500":d(g)===x,"ring-1 ring-gray-300":d(g)!==x},"flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden"])},[t("img",{src:u,alt:`${e.product.name} ${x+1}`,class:"w-full h-full object-cover"},null,8,G)],10,R))),128))])):l("",!0)]),t("div",X,[t("div",null,[t("p",Y,n(((C=e.product.category)==null?void 0:C.name)||e.product.category),1),t("h1",Z,n(e.product.name),1)]),t("div",_,[t("div",tt,[(s(),r(B,null,M(5,u=>t("span",{key:u,class:k([u<=Math.floor(e.product.rating||4.5)?"i-iconify-ph-star-fill":"i-iconify-ph-star text-gray-300"])},null,2)),64))]),t("span",et,"("+n(e.product.reviews||0)+" reviews)",1)]),t("div",ot,[t("div",st,[e.product.discount>0?(s(),r("span",rt," $"+n((e.product.price*(1+e.product.discount/100)).toFixed(2)),1)):l("",!0),t("span",nt,"$"+n(e.product.price.toFixed(2)),1),e.product.discount>0?(s(),r("span",it,n(e.product.discount)+"% OFF ",1)):l("",!0)])]),t("div",null,[e.product.stock>0?(s(),r("span",lt,[o[3]||(o[3]=t("svg",{class:"w-1.5 h-1.5 mr-1",fill:"currentColor",viewBox:"0 0 8 8"},[t("circle",{cx:"4",cy:"4",r:"3"})],-1)),f(" In Stock ("+n(e.product.stock)+" available) ",1)])):(s(),r("span",dt," Out of Stock "))]),e.product.shortDescription||e.product.description?(s(),r("div",at,[o[4]||(o[4]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Description",-1)),t("p",ct,n(e.product.shortDescription||e.product.description||"No description available."),1)])):l("",!0),e.product.manufacturer||e.product.sku?(s(),r("div",ut,[o[7]||(o[7]=t("h3",{class:"text-lg font-medium text-gray-900"},"Product Details",-1)),t("div",gt,[e.product.sku?(s(),r("div",mt,[o[5]||(o[5]=t("span",{class:"font-medium text-gray-500"},"SKU:",-1)),t("span",xt,n(e.product.sku),1)])):l("",!0),e.product.manufacturer?(s(),r("div",yt,[o[6]||(o[6]=t("span",{class:"font-medium text-gray-500"},"Brand:",-1)),t("span",ft,n(e.product.manufacturer),1)])):l("",!0)])])):l("",!0),!e.product.requiresPrescription&&e.product.stock>0?(s(),r("div",vt,[o[10]||(o[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Quantity",-1)),t("div",ht,[t("button",{onClick:o[0]||(o[0]=u=>c.value=Math.max(1,d(c)-1)),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50"},o[8]||(o[8]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])),t("span",pt,n(d(c)),1),t("button",{onClick:o[1]||(o[1]=u=>c.value=Math.min(e.product.stock,d(c)+1)),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50"},o[9]||(o[9]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)]))])])):l("",!0),t("div",kt,[e.product.requiresPrescription?(s(),j(w,{key:0,to:`/product/${e.product.slug}`,class:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium text-center block"},{default:$(()=>o[11]||(o[11]=[f(" View Details (Prescription Required) ")])),_:1,__:[11]},8,["to"])):e.product.stock>0?(s(),r("button",{key:1,onClick:O,class:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium"}," Add to Cart - $"+n((e.product.price*d(c)).toFixed(2)),1)):(s(),r("button",bt," Out of Stock ")),t("div",wt,[t("button",{onClick:D,class:k(["flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-all duration-300 font-medium flex items-center justify-center",{"border-red-300 text-red-500 bg-red-50":d(h)}])},[d(h)?(s(),r("svg",jt,o[13]||(o[13]=[t("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},null,-1)]))):(s(),r("svg",Ct,o[12]||(o[12]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)]))),o[14]||(o[14]=f(" Wishlist "))],2),z(w,{to:`/product/${e.product.slug}`,class:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors font-medium text-center"},{default:$(()=>o[15]||(o[15]=[f(" View Full Details ")])),_:1,__:[15]},8,["to"])])])])])])):l("",!0)])])):l("",!0)])}}};export{Ft as default};
