import{B as P,i as S,r as v,x as A,j as q,N as Q,c as _,a,m as o,b as e,d as x,e as b,w,t as r,F as u,g as m,f as y,v as H,D as O,O as k,_ as E,H as W,o as l,h as C,n as B,p as U}from"./4Al0cLfe.js";import{u as G}from"./FiuJam0s.js";import J from"./Drma5A4u.js";import{_ as K}from"./DlAUqK2U.js";const X={key:0,class:"flex justify-center items-center min-h-screen"},Y={key:1,class:"py-8 md:py-12"},Z={class:"container mx-auto px-4"},ee={class:"flex mb-8","aria-label":"Breadcrumb"},te={class:"inline-flex items-center space-x-1 md:space-x-3"},se={class:"inline-flex items-center"},oe={class:"flex items-center"},le={key:0},ae={class:"flex items-center"},ie={class:"flex items-center"},ne={class:"ml-1 text-gray-500 md:ml-2"},re={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12"},de={class:"space-y-4"},ce={class:"aspect-square bg-gray-100 rounded-lg overflow-hidden"},ue=["src","alt"],me={key:0,class:"flex space-x-2 overflow-x-auto"},ge=["onClick"],ve=["src","alt"],xe={class:"space-y-6"},pe={class:"text-3xl font-bold text-gray-900"},_e={key:0,class:"text-lg text-gray-600 mt-2"},ye={class:"flex items-center space-x-4"},fe={class:"flex items-center"},he={class:"flex items-center"},be={class:"ml-2 text-sm text-gray-600"},we={class:"space-y-2"},ke={key:0,class:"flex items-baseline space-x-3"},Ce={class:"text-3xl font-bold text-green-600"},Be={class:"text-xl text-gray-500 line-through"},Le={class:"px-3 py-1 bg-red-100 text-red-800 text-sm font-medium rounded-full"},ze={key:1,class:"text-3xl font-bold text-gray-900"},Ie={class:"flex items-center space-x-4"},Me={key:0,class:"flex items-center text-green-600"},$e={class:"font-medium"},je={key:1,class:"flex items-center text-red-600"},Ne={class:"space-y-2"},Te={key:0,class:"flex items-center p-3 bg-red-50 border border-red-200 rounded-lg"},Re={key:0,class:"space-y-4"},De={class:"flex items-center space-x-4"},Fe={class:"flex items-center border border-gray-300 rounded-lg"},Ve=["disabled"],Pe=["max"],Se=["disabled"],Ae={key:1,class:"space-y-4"},qe={class:"mt-8"},Qe={class:"border-b border-gray-200"},He={class:"-mb-px flex space-x-8"},Oe=["onClick"],Ee={class:"mt-6"},We={class:"prose max-w-none"},Ue={class:"text-gray-700 mb-4"},Ge={class:"prose max-w-none"},Je={key:0},Ke={key:0,class:"mb-4"},Xe={class:"list-disc pl-5"},Ye={key:1,class:"mb-4"},Ze={key:1,class:"text-gray-500"},et={class:"prose max-w-none"},tt={key:0},st={class:"mb-4"},ot={key:0,class:"mb-4"},lt={key:1,class:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mt-4"},at={class:"list-disc pl-5 text-yellow-700"},it={key:1,class:"text-gray-500"},nt={class:"space-y-6"},rt={key:0,class:"space-y-4"},dt={class:"flex items-center justify-between mb-2"},ct={class:"flex items-center space-x-2"},ut={class:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 font-medium text-lg"},mt={class:"font-medium text-gray-800"},gt={class:"text-xs text-gray-500"},vt={class:"flex items-center"},xt={class:"text-gray-700"},pt={key:1,class:"text-center py-8"},_t={class:"mt-16"},yt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},ft={key:2,class:"py-16 text-center"},ht={class:"max-w-md mx-auto"},bt={__name:"[slug]",setup(wt){const z=P();G();const I=S(),L=v(!0),t=v(null),M=v([]),p=v(""),N=v(0),c=v(1),g=v(0),T=[{id:"description",name:"Description"},{id:"ingredients",name:"Ingredients"},{id:"directions",name:"Directions"},{id:"reviews",name:"Reviews"}],$=async()=>{try{L.value=!0;const i=z.params.slug,s=await $fetch(`/api/products/${i}`);s&&s.product&&(t.value=s.product,t.value.images&&t.value.images.length>0?p.value=t.value.images[0]:p.value=t.value.image,s.product.relatedProducts&&(M.value=s.product.relatedProducts))}catch(i){console.error("Error loading product:",i),t.value=null}finally{L.value=!1}},R=()=>{c.value>1&&c.value--},D=()=>{var s;const i=((s=t.value)==null?void 0:s.stock)||0;c.value<i&&c.value++},j=()=>{var s;if(!t.value)return;const i={id:t.value.id,name:t.value.name,price:t.value.price,image:t.value.images&&t.value.images.length>0?t.value.images[0]:"/placeholder-product.jpg",quantity:c.value,selectedVariant:((s=t.value.variants)==null?void 0:s[N.value])||null};I.addItem(i),alert(`${t.value.name} added to cart!`)},F=()=>{j(),W("/checkout")},V=i=>{const s={id:i.id,name:i.name,price:i.price,image:i.images&&i.images.length>0?i.images[0]:"/placeholder-product.jpg",quantity:1};I.addItem(s),alert(`${i.name} added to cart!`)};return A(()=>{$()}),q(()=>z.params.slug,()=>{$()}),Q({title:_(()=>{var i;return((i=t.value)==null?void 0:i.name)||"Product"}),description:_(()=>{var i;return((i=t.value)==null?void 0:i.description)||"Product details"}),ogTitle:_(()=>{var i;return((i=t.value)==null?void 0:i.name)||"Product"}),ogDescription:_(()=>{var i;return((i=t.value)==null?void 0:i.description)||"Product details"}),ogImage:_(()=>{var i;return(i=t.value)!=null&&i.images&&t.value.images.length>0?t.value.images[0]:"/placeholder-product.jpg"})}),(i,s)=>{const f=E;return o(L)?(l(),a("div",X,s[1]||(s[1]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)]))):o(t)?(l(),a("div",Y,[e("div",Z,[e("nav",ee,[e("ol",te,[e("li",se,[b(f,{to:"/",class:"text-gray-500 hover:text-gray-700"},{default:w(()=>s[2]||(s[2]=[C("Home")])),_:1,__:[2]})]),e("li",null,[e("div",oe,[s[4]||(s[4]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),b(f,{to:"/products",class:"ml-1 text-gray-500 hover:text-gray-700 md:ml-2"},{default:w(()=>s[3]||(s[3]=[C("Products")])),_:1,__:[3]})])]),o(t).category?(l(),a("li",le,[e("div",ae,[s[5]||(s[5]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),b(f,{to:`/category/${o(t).category.slug}`,class:"ml-1 text-gray-500 hover:text-gray-700 md:ml-2"},{default:w(()=>[C(r(o(t).category.name),1)]),_:1},8,["to"])])])):x("",!0),e("li",null,[e("div",ie,[s[6]||(s[6]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",ne,r(o(t).name),1)])])])]),e("div",re,[e("div",de,[e("div",ce,[e("img",{src:o(p)||(o(t).images&&o(t).images.length>0?o(t).images[0]:"/placeholder-product.jpg"),alt:o(t).name,class:"w-full h-full object-cover"},null,8,ue)]),o(t).images&&o(t).images.length>1?(l(),a("div",me,[(l(!0),a(u,null,m(o(t).images,(n,d)=>(l(),a("button",{key:d,onClick:h=>p.value=n,class:B([{"ring-2 ring-blue-500":o(p)===n},"flex-shrink-0 w-20 h-20 bg-gray-100 rounded-lg overflow-hidden hover:ring-2 hover:ring-gray-300"])},[e("img",{src:n,alt:`${o(t).name} ${d+1}`,class:"w-full h-full object-cover"},null,8,ve)],10,ge))),128))])):x("",!0)]),e("div",xe,[e("div",null,[e("h1",pe,r(o(t).name),1),o(t).brand?(l(),a("p",_e,r(o(t).brand),1)):x("",!0)]),e("div",ye,[e("div",fe,[e("div",he,[(l(),a(u,null,m(5,n=>e("svg",{key:n,class:B([n<=o(t).rating?"text-yellow-400":"text-gray-300","w-5 h-5"]),fill:"currentColor",viewBox:"0 0 20 20"},s[7]||(s[7]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e("span",be,r(o(t).rating)+" ("+r(o(t).reviews)+" reviews)",1)])]),e("div",we,[o(t).discount>0?(l(),a("div",ke,[e("span",Ce,"$"+r(o(t).price.toFixed(2)),1),e("span",Be,"$"+r((o(t).price*(1+o(t).discount/100)).toFixed(2)),1),e("span",Le,r(o(t).discount)+"% OFF ",1)])):(l(),a("div",ze," $"+r(o(t).price.toFixed(2)),1))]),e("div",Ie,[o(t).stock>0?(l(),a("div",Me,[s[8]||(s[8]=e("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),e("span",$e,"In Stock ("+r(o(t).stock)+" available)",1)])):(l(),a("div",je,s[9]||(s[9]=[e("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1),e("span",{class:"font-medium"},"Out of stock",-1)])))]),e("div",Ne,[o(t).isRx?(l(),a("div",Te,s[10]||(s[10]=[e("svg",{class:"w-5 h-5 text-red-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),e("span",{class:"text-red-800 text-sm font-medium"},"Prescription required for this medication",-1)]))):x("",!0)]),o(t).stock>0?(l(),a("div",Re,[e("div",De,[s[11]||(s[11]=e("label",{class:"text-sm font-medium text-gray-700"},"Quantity:",-1)),e("div",Fe,[e("button",{onClick:R,disabled:o(c)<=1,class:"px-3 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50"}," - ",8,Ve),y(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>O(c)?c.value=n:null),type:"number",min:1,max:o(t).stock,class:"w-16 px-2 py-2 text-center border-0 focus:ring-0"},null,8,Pe),[[H,o(c),void 0,{number:!0}]]),e("button",{onClick:D,disabled:o(c)>=o(t).stock,class:"px-3 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50"}," + ",8,Se)])]),e("div",{class:"flex space-x-4"},[e("button",{onClick:j,class:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"}," Add to Cart "),e("button",{onClick:F,class:"flex-1 bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"}," Buy Now ")])])):(l(),a("div",Ae,s[12]||(s[12]=[e("div",{class:"text-center p-4 bg-red-50 border border-red-200 rounded-lg"},[e("p",{class:"text-red-800 font-medium"},"This product is currently out of stock."),e("p",{class:"text-red-600 text-sm mt-1"},"Check back later or contact us for availability.")],-1)]))),e("div",qe,[e("div",Qe,[e("nav",He,[(l(),a(u,null,m(T,(n,d)=>e("button",{key:n.id,onClick:h=>g.value=d,class:B([{"border-blue-500 text-blue-600":o(g)===d,"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300":o(g)!==d},"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},r(n.name),11,Oe)),64))])]),e("div",Ee,[y(e("div",We,[e("p",Ue,r(o(t).description),1)],512),[[k,o(g)===0]]),y(e("div",Ge,[o(t).ingredients?(l(),a("div",Je,[Array.isArray(o(t).ingredients)?(l(),a("div",Ke,[s[13]||(s[13]=e("h4",{class:"font-semibold text-lg mb-2"},"Active Ingredients:",-1)),e("ul",Xe,[(l(!0),a(u,null,m(o(t).ingredients,(n,d)=>(l(),a("li",{key:d,class:"mb-1"},r(n),1))),128))])])):(l(),a("div",Ye,[e("p",null,r(o(t).ingredients),1)]))])):(l(),a("div",Ze,"Information about the ingredients is currently not available for this product."))],512),[[k,o(g)===1]]),y(e("div",et,[o(t).directions?(l(),a("div",tt,[e("p",st,r(o(t).directions),1),o(t).dosage?(l(),a("div",ot,[s[14]||(s[14]=e("h4",{class:"font-semibold text-lg mb-2"},"Recommended Dosage:",-1)),e("p",null,r(o(t).dosage),1)])):x("",!0),o(t).warnings&&o(t).warnings.length>0?(l(),a("div",lt,[s[15]||(s[15]=e("h4",{class:"font-semibold text-yellow-700 mb-2"},"Important Warnings:",-1)),e("ul",at,[(l(!0),a(u,null,m(o(t).warnings,(n,d)=>(l(),a("li",{key:d,class:"mb-1"},r(n),1))),128))])])):x("",!0)])):(l(),a("div",it,"Detailed usage directions are currently not available for this product."))],512),[[k,o(g)===2]]),y(e("div",null,[e("div",nt,[s[18]||(s[18]=e("div",{class:"flex items-center justify-between"},[e("h3",{class:"text-lg font-medium"},"Customer Reviews"),e("button",{class:"text-blue-600 hover:text-blue-700 text-sm font-medium"},"Write a Review")],-1)),o(t).reviewList&&o(t).reviewList.length>0?(l(),a("div",rt,[(l(!0),a(u,null,m(o(t).reviewList,(n,d)=>(l(),a("div",{key:d,class:"border-b border-gray-200 pb-4"},[e("div",dt,[e("div",ct,[e("div",ut,r(n.name.charAt(0)),1),e("div",null,[e("p",mt,r(n.name),1),e("p",gt,r(n.date),1)])]),e("div",vt,[(l(),a(u,null,m(5,h=>e("svg",{key:h,class:B([h<=n.rating?"text-yellow-400":"text-gray-300","w-4 h-4"]),fill:"currentColor",viewBox:"0 0 20 20"},s[16]||(s[16]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))])]),e("p",xt,r(n.comment),1)]))),128))])):(l(),a("div",pt,s[17]||(s[17]=[e("p",{class:"text-gray-500 mb-3"},"No reviews yet",-1),e("button",{class:"text-blue-600 hover:text-blue-700 text-sm font-medium"},"Be the first to write a review",-1)])))])],512),[[k,o(g)===3]])])])])]),e("div",_t,[s[19]||(s[19]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-8"},"Related Products",-1)),e("div",yt,[(l(!0),a(u,null,m(o(M),n=>(l(),U(J,{key:n.id,product:n,onAddToCart:V},null,8,["product"]))),128))])])])])):(l(),a("div",ft,[e("div",ht,[s[21]||(s[21]=e("h1",{class:"text-2xl font-bold text-gray-900 mb-4"},"Product Not Found",-1)),s[22]||(s[22]=e("p",{class:"text-gray-600 mb-8"},"The product you're looking for doesn't exist or has been removed.",-1)),b(f,{to:"/products",class:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700"},{default:w(()=>s[20]||(s[20]=[C(" Browse Products ")])),_:1,__:[20]})])]))}}},zt=K(bt,[["__scopeId","data-v-dd2fc95e"]]);export{zt as default};
