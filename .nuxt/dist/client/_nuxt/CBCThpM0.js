import{B as V,i as Q,r as p,x as A,j as q,N as O,c as f,a,m as s,b as e,d as u,e as k,w as C,t as r,F as m,g,f as b,v as H,D as E,O as B,_ as W,H as K,o as l,h as L,n as h,p as U}from"./4Al0cLfe.js";import G from"./Drma5A4u.js";import{u as J}from"./FiuJam0s.js";import{_ as X}from"./DlAUqK2U.js";const Y={key:0,class:"flex justify-center items-center min-h-screen"},Z={key:1,class:"py-8 md:py-12"},ee={class:"container mx-auto px-4"},te={class:"flex mb-8","aria-label":"Breadcrumb"},se={class:"inline-flex items-center space-x-1 md:space-x-3"},oe={class:"inline-flex items-center"},le={class:"flex items-center"},ae={key:0},ie={class:"flex items-center"},ne={class:"flex items-center"},re={class:"ml-1 text-gray-500 md:ml-2"},de={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12"},ce={class:"space-y-4"},ue={class:"aspect-square bg-gray-100 rounded-lg overflow-hidden"},me=["src","alt"],ge={key:0,class:"flex space-x-2 overflow-x-auto"},ve=["onClick"],xe=["src","alt"],pe={class:"space-y-6"},_e={class:"text-3xl font-bold text-gray-900"},ye={key:0,class:"text-lg text-gray-600 mt-2"},fe={class:"flex items-center space-x-4"},be={class:"flex items-center"},he={class:"flex items-center"},we={class:"ml-2 text-sm text-gray-600"},ke={class:"space-y-2"},Ce={key:0,class:"flex items-baseline space-x-3"},Be={class:"text-3xl font-bold text-green-600"},Le={class:"text-xl text-gray-500 line-through"},$e={class:"px-3 py-1 bg-red-100 text-red-800 text-sm font-medium rounded-full"},ze={key:1,class:"text-3xl font-bold text-gray-900"},Ie={class:"flex items-center space-x-4"},Me={key:0,class:"flex items-center text-green-600"},De={key:1,class:"flex items-center text-red-600"},Ne={class:"space-y-2"},Se={key:0,class:"flex items-center p-3 bg-red-50 border border-red-200 rounded-lg"},je={key:0,class:"space-y-4"},Re={class:"font-medium text-gray-700"},Te={class:"flex flex-wrap gap-2"},Fe=["onClick"],Pe={key:1,class:"space-y-4"},Ve={class:"flex items-center space-x-4"},Qe={class:"flex items-center border border-gray-300 rounded-lg"},Ae=["disabled"],qe=["max"],Oe=["disabled"],He={class:"mt-8"},Ee={class:"border-b border-gray-200"},We={class:"-mb-px flex space-x-8"},Ke=["onClick"],Ue={class:"mt-6"},Ge={class:"prose max-w-none"},Je={class:"text-gray-700 mb-4"},Xe={key:0},Ye={class:"list-disc pl-5 mb-4"},Ze={class:"prose max-w-none"},et={key:0},tt={key:0,class:"mb-4"},st={key:1,class:"mb-4"},ot={class:"list-disc pl-5"},lt={key:2,class:"mb-4"},at={key:1,class:"text-gray-500"},it={class:"prose max-w-none"},nt={key:0},rt={class:"mb-4"},dt={key:0,class:"mb-4"},ct={key:1,class:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mt-4"},ut={class:"list-disc pl-5 text-yellow-700"},mt={key:1,class:"text-gray-500"},gt={class:"space-y-6"},vt={key:0,class:"space-y-4"},xt={class:"flex items-center justify-between mb-2"},pt={class:"flex items-center space-x-2"},_t={class:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 font-medium text-lg"},yt={class:"font-medium text-gray-800"},ft={class:"text-xs text-gray-500"},bt={class:"flex items-center"},ht={class:"text-gray-700"},wt={key:1,class:"text-center py-8"},kt={class:"mt-16"},Ct={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},Bt={key:2,class:"py-16 text-center"},Lt={class:"max-w-md mx-auto"},$t={__name:"[slug]-clean",setup(zt){const I=V();J();const M=Q(),$=p(!0),t=p(null),D=p([]),_=p(""),w=p(0),c=p(1),x=p(0),j=[{id:"description",name:"Description"},{id:"ingredients",name:"Ingredients"},{id:"directions",name:"Directions"},{id:"reviews",name:"Reviews"}],N=async()=>{var n;try{$.value=!0;const o=I.params.slug,{data:v}=await $fetch(`/api/products?slug=${o}`);if(v&&v.length>0&&(t.value=v[0],t.value.gallery&&t.value.gallery.length>0?_.value=t.value.gallery[0]:_.value=t.value.image,(n=t.value.category)!=null&&n.id)){const{data:z}=await $fetch(`/api/categories/${t.value.category.id}/products`);D.value=z.filter(i=>i.id!==t.value.id).slice(0,4)}}catch(o){console.error("Error loading product:",o),t.value=null}finally{$.value=!1}},R=()=>{c.value>1&&c.value--},T=()=>{var o;const n=((o=t.value)==null?void 0:o.maxQuantity)||10;c.value<n&&c.value++},S=()=>{var o;if(!t.value)return;const n={id:t.value.id,name:t.value.name,price:t.value.price,image:t.value.image,quantity:c.value,selectedVariant:((o=t.value.variants)==null?void 0:o[w.value])||null};M.addItem(n),alert(`${t.value.name} added to cart!`)},F=()=>{S(),K("/checkout")},P=n=>{const o={id:n.id,name:n.name,price:n.price,image:n.image,quantity:1};M.addItem(o),alert(`${n.name} added to cart!`)};return A(()=>{N()}),q(()=>I.params.slug,()=>{N()}),O({title:f(()=>{var n;return((n=t.value)==null?void 0:n.name)||"Product"}),description:f(()=>{var n;return((n=t.value)==null?void 0:n.description)||"Product details"}),ogTitle:f(()=>{var n;return((n=t.value)==null?void 0:n.name)||"Product"}),ogDescription:f(()=>{var n;return((n=t.value)==null?void 0:n.description)||"Product details"}),ogImage:f(()=>{var n;return((n=t.value)==null?void 0:n.image)||"/placeholder-product.jpg"})}),(n,o)=>{const v=W,z=G;return s($)?(l(),a("div",Y,o[1]||(o[1]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)]))):s(t)?(l(),a("div",Z,[e("div",ee,[e("nav",te,[e("ol",se,[e("li",oe,[k(v,{to:"/",class:"text-gray-500 hover:text-gray-700"},{default:C(()=>o[2]||(o[2]=[L("Home")])),_:1,__:[2]})]),e("li",null,[e("div",le,[o[4]||(o[4]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),k(v,{to:"/products",class:"ml-1 text-gray-500 hover:text-gray-700 md:ml-2"},{default:C(()=>o[3]||(o[3]=[L("Products")])),_:1,__:[3]})])]),s(t).category?(l(),a("li",ae,[e("div",ie,[o[5]||(o[5]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),k(v,{to:`/category/${s(t).category.slug}`,class:"ml-1 text-gray-500 hover:text-gray-700 md:ml-2"},{default:C(()=>[L(r(s(t).category.name),1)]),_:1},8,["to"])])])):u("",!0),e("li",null,[e("div",ne,[o[6]||(o[6]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",re,r(s(t).name),1)])])])]),e("div",de,[e("div",ce,[e("div",ue,[e("img",{src:s(_)||s(t).image||"/placeholder-product.jpg",alt:s(t).name,class:"w-full h-full object-cover"},null,8,me)]),s(t).gallery&&s(t).gallery.length>1?(l(),a("div",ge,[(l(!0),a(m,null,g(s(t).gallery,(i,d)=>(l(),a("button",{key:d,onClick:y=>_.value=i,class:h([{"ring-2 ring-blue-500":s(_)===i},"flex-shrink-0 w-20 h-20 bg-gray-100 rounded-lg overflow-hidden hover:ring-2 hover:ring-gray-300"])},[e("img",{src:i,alt:`${s(t).name} ${d+1}`,class:"w-full h-full object-cover"},null,8,xe)],10,ve))),128))])):u("",!0)]),e("div",pe,[e("div",null,[e("h1",_e,r(s(t).name),1),s(t).brand?(l(),a("p",ye,r(s(t).brand),1)):u("",!0)]),e("div",fe,[e("div",be,[e("div",he,[(l(),a(m,null,g(5,i=>e("svg",{key:i,class:h([i<=s(t).rating?"text-yellow-400":"text-gray-300","w-5 h-5"]),fill:"currentColor",viewBox:"0 0 20 20"},o[7]||(o[7]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e("span",we,r(s(t).rating)+" ("+r(s(t).reviews)+" reviews)",1)])]),e("div",ke,[s(t).discount>0?(l(),a("div",Ce,[e("span",Be,"$"+r(s(t).price.toFixed(2)),1),e("span",Le,"$"+r((s(t).price*(1+s(t).discount/100)).toFixed(2)),1),e("span",$e,r(s(t).discount)+"% OFF ",1)])):(l(),a("div",ze," $"+r(s(t).price.toFixed(2)),1))]),e("div",Ie,[s(t).inStock?(l(),a("div",Me,o[8]||(o[8]=[e("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),e("span",{class:"font-medium"},"In Stock",-1)]))):(l(),a("div",De,o[9]||(o[9]=[e("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1),e("span",{class:"font-medium"},"Out of stock",-1)])))]),e("div",Ne,[s(t).isRx?(l(),a("div",Se,o[10]||(o[10]=[e("svg",{class:"w-5 h-5 text-red-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),e("span",{class:"text-red-800 text-sm font-medium"},"Prescription required for this medication",-1)]))):u("",!0)]),s(t).variants&&s(t).variants.length>0?(l(),a("div",je,[e("h3",Re,r(s(t).variantLabel||"Select Option"),1),e("div",Te,[(l(!0),a(m,null,g(s(t).variants,(i,d)=>(l(),a("button",{key:d,onClick:y=>w.value=d,class:h([{"border-blue-500 bg-blue-50 text-blue-700":s(w)===d,"border-gray-300 hover:border-blue-300 text-gray-700":s(w)!==d},"px-4 py-2 rounded-md border transition-colors"])},r(i.name),11,Fe))),128))])])):u("",!0),s(t).inStock?(l(),a("div",Pe,[e("div",Ve,[o[11]||(o[11]=e("label",{class:"text-sm font-medium text-gray-700"},"Quantity:",-1)),e("div",Qe,[e("button",{onClick:R,disabled:s(c)<=1,class:"px-3 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50"}," - ",8,Ae),b(e("input",{"onUpdate:modelValue":o[0]||(o[0]=i=>E(c)?c.value=i:null),type:"number",min:1,max:s(t).maxQuantity||10,class:"w-16 px-2 py-2 text-center border-0 focus:ring-0"},null,8,qe),[[H,s(c),void 0,{number:!0}]]),e("button",{onClick:T,disabled:s(c)>=(s(t).maxQuantity||10),class:"px-3 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50"}," + ",8,Oe)])]),e("div",{class:"flex space-x-4"},[e("button",{onClick:S,class:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"}," Add to Cart "),e("button",{onClick:F,class:"flex-1 bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"}," Buy Now ")])])):u("",!0),e("div",He,[e("div",Ee,[e("nav",We,[(l(),a(m,null,g(j,(i,d)=>e("button",{key:i.id,onClick:y=>x.value=d,class:h([{"border-blue-500 text-blue-600":s(x)===d,"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300":s(x)!==d},"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},r(i.name),11,Ke)),64))])]),e("div",Ue,[b(e("div",Ge,[e("p",Je,r(s(t).description),1),s(t).benefits&&s(t).benefits.length>0?(l(),a("div",Xe,[o[12]||(o[12]=e("h4",{class:"font-semibold text-lg mb-2"},"Key Benefits:",-1)),e("ul",Ye,[(l(!0),a(m,null,g(s(t).benefits,(i,d)=>(l(),a("li",{key:d,class:"mb-1"},r(i),1))),128))])])):u("",!0)],512),[[B,s(x)===0]]),b(e("div",Ze,[s(t).ingredients?(l(),a("div",et,[s(t).ingredientsDescription?(l(),a("p",tt,r(s(t).ingredientsDescription),1)):u("",!0),Array.isArray(s(t).ingredients)?(l(),a("div",st,[o[13]||(o[13]=e("h4",{class:"font-semibold text-lg mb-2"},"Active Ingredients:",-1)),e("ul",ot,[(l(!0),a(m,null,g(s(t).ingredients,(i,d)=>(l(),a("li",{key:d,class:"mb-1"},r(i),1))),128))])])):(l(),a("div",lt,[e("p",null,r(s(t).ingredients),1)]))])):(l(),a("div",at,"Information about the ingredients is currently not available for this product."))],512),[[B,s(x)===1]]),b(e("div",it,[s(t).directions?(l(),a("div",nt,[e("p",rt,r(s(t).directions),1),s(t).dosage?(l(),a("div",dt,[o[14]||(o[14]=e("h4",{class:"font-semibold text-lg mb-2"},"Recommended Dosage:",-1)),e("p",null,r(s(t).dosage),1)])):u("",!0),s(t).warnings&&s(t).warnings.length>0?(l(),a("div",ct,[o[15]||(o[15]=e("h4",{class:"font-semibold text-yellow-700 mb-2"},"Important Warnings:",-1)),e("ul",ut,[(l(!0),a(m,null,g(s(t).warnings,(i,d)=>(l(),a("li",{key:d,class:"mb-1"},r(i),1))),128))])])):u("",!0)])):(l(),a("div",mt,"Detailed usage directions are currently not available for this product."))],512),[[B,s(x)===2]]),b(e("div",null,[e("div",gt,[o[18]||(o[18]=e("div",{class:"flex items-center justify-between"},[e("h3",{class:"text-lg font-medium"},"Customer Reviews"),e("button",{class:"text-blue-600 hover:text-blue-700 text-sm font-medium"},"Write a Review")],-1)),s(t).reviewList&&s(t).reviewList.length>0?(l(),a("div",vt,[(l(!0),a(m,null,g(s(t).reviewList,(i,d)=>(l(),a("div",{key:d,class:"border-b border-gray-200 pb-4"},[e("div",xt,[e("div",pt,[e("div",_t,r(i.name.charAt(0)),1),e("div",null,[e("p",yt,r(i.name),1),e("p",ft,r(i.date),1)])]),e("div",bt,[(l(),a(m,null,g(5,y=>e("svg",{key:y,class:h([y<=i.rating?"text-yellow-400":"text-gray-300","w-4 h-4"]),fill:"currentColor",viewBox:"0 0 20 20"},o[16]||(o[16]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))])]),e("p",ht,r(i.comment),1)]))),128))])):(l(),a("div",wt,o[17]||(o[17]=[e("p",{class:"text-gray-500 mb-3"},"No reviews yet",-1),e("button",{class:"text-blue-600 hover:text-blue-700 text-sm font-medium"},"Be the first to write a review",-1)])))])],512),[[B,s(x)===3]])])])])]),e("div",kt,[o[19]||(o[19]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-8"},"Related Products",-1)),e("div",Ct,[(l(!0),a(m,null,g(s(D),i=>(l(),U(z,{key:i.id,product:i,onAddToCart:P},null,8,["product"]))),128))])])])])):(l(),a("div",Bt,[e("div",Lt,[o[21]||(o[21]=e("h1",{class:"text-2xl font-bold text-gray-900 mb-4"},"Product Not Found",-1)),o[22]||(o[22]=e("p",{class:"text-gray-600 mb-8"},"The product you're looking for doesn't exist or has been removed.",-1)),k(v,{to:"/products",class:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700"},{default:C(()=>o[20]||(o[20]=[L(" Browse Products ")])),_:1,__:[20]})])]))}}},St=X($t,[["__scopeId","data-v-dc438695"]]);export{St as default};
