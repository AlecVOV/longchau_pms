import{i as B,r as f,c as m,j as V,a as l,b as t,t as o,e as w,w as g,F as q,g as D,d as k,f as M,v as E,_ as H,o as n,h as C}from"./4Al0cLfe.js";import{u as Q}from"./-W0ciY3d.js";const U={class:"py-8 md:py-12"},Y={class:"container-custom"},A={class:"flex items-center justify-between mb-6"},O={class:"text-2xl md:text-3xl font-bold text-neutral-900"},R={key:0,class:"bg-white rounded-lg shadow-sm p-8 text-center"},z={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},G={class:"lg:col-span-2"},J={class:"bg-white rounded-lg shadow-sm divide-y divide-neutral-100"},K={class:"w-24 h-24 flex-shrink-0"},W=["src","alt"],X={class:"flex-1 min-w-0"},Z={class:"flex justify-between"},tt={class:"text-lg font-medium text-neutral-900 mb-1"},et={class:"text-sm text-neutral-500"},st={class:"text-lg font-medium text-neutral-900"},ot={class:"flex items-center justify-between mt-4"},lt={class:"flex items-center space-x-4"},nt={class:"inline-flex items-center border border-neutral-200 rounded-md"},at=["onClick","disabled"],it={class:"w-12 text-center font-medium"},rt=["onClick","disabled"],dt={class:"flex items-center space-x-3"},ct=["onClick"],ut=["onClick"],pt={class:"mt-6"},vt={class:"lg:col-span-1"},mt={class:"bg-white rounded-lg shadow-sm sticky top-24"},xt={class:"p-6"},_t={class:"space-y-4 text-neutral-600"},ft={class:"flex justify-between"},ht={class:"font-medium text-neutral-900"},yt={class:"flex justify-between"},bt={key:0,class:"text-success-600 font-medium"},wt={key:1,class:"font-medium text-neutral-900"},gt={class:"flex justify-between"},kt={class:"font-medium text-neutral-900"},Ct={key:0,class:"flex justify-between text-success-600"},jt={class:"border-t border-neutral-200 pt-4 mt-4"},Ft={class:"flex justify-between text-lg"},$t={class:"font-bold text-neutral-900"},St={class:"mb-6"},It={class:"flex gap-2"},Lt={key:0,class:"text-sm text-accent-600 mt-1"},Nt={key:1,class:"text-sm text-success-600 mt-1"},Vt={__name:"cart",setup(Pt){const a=B(),h=Q(),d=f(""),i=f(""),c=f(""),u=f(0),$=f([]),x=m(()=>a.items),S=m(()=>a.itemCount),r=m(()=>a.total),y=m(()=>r.value>50?0:5.99),j=m(()=>r.value*.08),I=m(()=>r.value+y.value+j.value-u.value),F=async(p,e)=>{if(e>0&&e<=10){const v=x.value[p];v&&(await a.updateQuantity(v.id,e),h.success("Cart updated successfully"))}},L=p=>{const e=x.value[p];e&&(a.removeItem(e.id),h.success("Item removed from cart"))},N=()=>{a.clearCart(),h.success("Cart cleared successfully")},P=p=>{const e=x.value[p];e&&($.value.push({...e}),a.removeItem(e.id),h.success("Item saved for later"))},T=()=>{if(i.value="",c.value="",d.value.trim()===""){i.value="Please enter a promo code";return}d.value.toLowerCase()==="welcome10"?(u.value=r.value*.1,c.value="Promo code applied successfully! You saved $"+u.value.toFixed(2)):d.value.toLowerCase()==="freeship"?r.value<=50?(u.value=y.value,c.value="Free shipping applied!"):i.value="Free shipping is already applied to orders over $50":i.value="Invalid promo code"};return V(d,()=>{i.value="",c.value=""}),(p,e)=>{const v=H;return n(),l("div",U,[t("div",Y,[t("div",A,[t("h1",O,"Cart Items ("+o(S.value)+")",1),t("button",{onClick:N,class:"text-sm text-neutral-500 hover:text-accent-600"},"Clear Cart")]),x.value.length===0?(n(),l("div",R,[e[2]||(e[2]=t("div",{class:"w-20 h-20 mx-auto mb-4 rounded-full bg-neutral-100 flex items-center justify-center"},[t("span",{class:"i-iconify-ph-shopping-cart-fill text-3xl text-neutral-400"})],-1)),e[3]||(e[3]=t("h2",{class:"text-xl font-semibold text-neutral-800 mb-3"},"Your cart is empty",-1)),e[4]||(e[4]=t("p",{class:"text-neutral-600 mb-6"},"Looks like you haven't added any items to your cart yet.",-1)),w(v,{to:"/",class:"btn-primary"},{default:g(()=>e[1]||(e[1]=[C("Continue Shopping")])),_:1,__:[1]})])):(n(),l("div",z,[t("div",G,[t("div",J,[(n(!0),l(q,null,D(x.value,(s,_)=>(n(),l("div",{key:_,class:"p-6 flex items-start space-x-4"},[t("div",K,[t("img",{src:s.image,alt:s.name,class:"w-full h-full object-cover rounded-md"},null,8,W)]),t("div",X,[t("div",Z,[t("div",null,[t("h3",tt,o(s.name),1),t("p",et,"Unit Price: $"+o(s.price.toFixed(2)),1)]),t("p",st,"$"+o((s.price*s.quantity).toFixed(2)),1)]),t("div",ot,[t("div",lt,[t("div",nt,[t("button",{onClick:b=>F(_,s.quantity-1),disabled:s.quantity<=1,class:"w-10 h-10 flex items-center justify-center text-neutral-600 hover:bg-neutral-50 disabled:opacity-50"},e[5]||(e[5]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,at),t("span",it,o(s.quantity),1),t("button",{onClick:b=>F(_,s.quantity+1),disabled:s.quantity>=10,class:"w-10 h-10 flex items-center justify-center text-neutral-600 hover:bg-neutral-50 disabled:opacity-50"},e[6]||(e[6]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]),8,rt)])]),t("div",dt,[t("button",{onClick:b=>P(_),class:"px-4 py-2 rounded-md bg-primary-600 text-white hover:bg-white hover:text-primary-600 border border-primary-600 transition-all duration-500"}," Save for Later ",8,ct),t("button",{onClick:b=>L(_),class:"px-4 py-2 rounded-md bg-accent-600 text-white hover:bg-white hover:text-accent-600 border border-accent-600 transition-all duration-500"}," Remove ",8,ut)])])])]))),128))]),t("div",pt,[w(v,{to:"/",class:"inline-flex items-center text-primary-600 hover:text-primary-700"},{default:g(()=>e[7]||(e[7]=[t("span",{class:"i-iconify-ph-arrow-left text-lg mr-2"},null,-1),C(" Continue Shopping ")])),_:1,__:[7]})])]),t("div",vt,[t("div",mt,[t("div",xt,[e[14]||(e[14]=t("h2",{class:"text-xl font-semibold text-neutral-900 mb-6"},"Order Summary",-1)),t("div",_t,[t("div",ft,[e[8]||(e[8]=t("span",null,"Subtotal",-1)),t("span",ht,"$"+o(r.value.toFixed(2)),1)]),t("div",yt,[e[9]||(e[9]=t("span",null,"Shipping",-1)),r.value>50?(n(),l("span",bt,"Free")):(n(),l("span",wt,"$"+o(y.value.toFixed(2)),1))]),t("div",gt,[e[10]||(e[10]=t("span",null,"Tax (8%)",-1)),t("span",kt,"$"+o(j.value.toFixed(2)),1)]),u.value>0?(n(),l("div",Ct,[e[11]||(e[11]=t("span",null,"Discount",-1)),t("span",null,"-$"+o(u.value.toFixed(2)),1)])):k("",!0),t("div",jt,[t("div",Ft,[e[12]||(e[12]=t("span",{class:"font-semibold text-neutral-900"},"Total",-1)),t("span",$t,"$"+o(I.value.toFixed(2)),1)])])]),t("div",St,[t("div",It,[M(t("input",{type:"text",placeholder:"Promo code","onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),class:"input flex-grow"},null,512),[[E,d.value]]),t("button",{onClick:T,class:"btn-outline px-4 whitespace-nowrap"},"Apply")]),i.value?(n(),l("p",Lt,o(i.value),1)):k("",!0),c.value?(n(),l("p",Nt,o(c.value),1)):k("",!0)]),w(v,{to:"/checkout",class:"btn-primary w-full flex justify-center py-3"},{default:g(()=>e[13]||(e[13]=[C(" Proceed to Checkout ")])),_:1,__:[13]})])])])]))])])}}};export{Vt as default};
