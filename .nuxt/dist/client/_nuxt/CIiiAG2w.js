import{u as O,q as R,s as F,r as u,c as B,x as j,a,b as t,e as k,w as C,h as p,y as D,d as g,m as s,t as f,f as d,v as x,n as P,z as L,F as I,g as $,A as q,_ as H,o as n}from"./4Al0cLfe.js";import{_ as Z}from"./DlAUqK2U.js";const G={class:"min-h-screen bg-gradient-to-br from-green-50 to-blue-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},W={class:"max-w-md w-full space-y-8"},J={class:"text-center"},K={class:"mt-2 text-sm text-gray-600"},Q={class:"bg-white p-8 rounded-lg shadow-lg"},X={key:0,class:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded"},Y={key:1,class:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded"},ee={class:"space-y-4"},te={class:"grid grid-cols-2 gap-4"},se={key:0,class:"mt-1 text-sm text-red-600"},re={class:"mt-1 relative"},oe=["type"],le={key:0,class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ae={key:1,class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ne={class:"mt-2"},de={class:"flex space-x-1"},ie={class:"mt-1 text-xs text-gray-600"},ue={key:0,class:"mt-1 text-sm text-red-600"},me=["type"],ce={key:0,class:"mt-1 text-sm text-red-600"},pe={class:"flex items-center"},fe={for:"acceptTerms",class:"ml-2 block text-sm text-gray-900"},ge={class:"flex items-center"},be=["disabled"],xe={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},we={__name:"register",setup(ve){O({title:"Register - Long Châu",meta:[{name:"description",content:"Create your Long Châu account to access personalized healthcare services, track prescriptions, and manage your health records."}]});const b=R(),V=F(),r=u({firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",password:"",confirmPassword:"",acceptTerms:!1,newsletter:!1}),w=u(!1),N=u(!1),v=u(""),y=u(""),m=u(""),i=u(""),c=u(""),M=B(()=>{const l=r.value.password;let e=0;return l.length>=8&&e++,/[a-z]/.test(l)&&/[A-Z]/.test(l)&&e++,/\d/.test(l)&&e++,/[!@#$%^&*(),.?":{}|<>]/.test(l)&&e++,e}),z=B(()=>{const l=M.value;return l===0?"Very weak":l===1?"Weak":l===2?"Fair":l===3?"Good":"Strong"}),U=l=>{const e=M.value;return l<=e?e<=1?"bg-red-500":e===2?"bg-yellow-500":e===3?"bg-blue-500":"bg-green-500":"bg-gray-200"},A=B(()=>r.value.firstName&&r.value.lastName&&r.value.email&&r.value.phone&&r.value.dateOfBirth&&r.value.password&&r.value.confirmPassword&&r.value.acceptTerms&&!m.value&&!i.value&&!c.value),S=()=>{/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.value.email)?m.value="":m.value="Please enter a valid email address"},T=()=>{const l=r.value.password;l.length<8?i.value="Password must be at least 8 characters long":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(l)?i.value="":i.value="Password must contain at least one uppercase letter, one lowercase letter, and one number",r.value.confirmPassword&&_()},_=()=>{r.value.password!==r.value.confirmPassword?c.value="Passwords do not match":c.value=""},E=async()=>{var l;if(v.value="",y.value="",S(),T(),_(),!(m.value||i.value||c.value))try{await b.register({firstName:r.value.firstName,lastName:r.value.lastName,email:r.value.email,phone:r.value.phone,dateOfBirth:r.value.dateOfBirth,password:r.value.password,newsletter:r.value.newsletter}),y.value="Account created successfully! Redirecting...",setTimeout(()=>{V.push("/")},1e3)}catch(e){v.value=((l=e.data)==null?void 0:l.message)||"Registration failed. Please try again."}};return j(()=>{b.isLoggedIn&&V.push("/")}),(l,e)=>{const h=H;return n(),a("div",G,[t("div",W,[t("div",J,[k(h,{to:"/",class:"inline-block"},{default:C(()=>e[11]||(e[11]=[t("h1",{class:"text-3xl font-bold text-green-600"},"Long Châu",-1)])),_:1,__:[11]}),e[14]||(e[14]=t("h2",{class:"mt-6 text-3xl font-extrabold text-gray-900"}," Create your account ",-1)),t("p",K,[e[13]||(e[13]=p(" Already have an account? ")),k(h,{to:"/login",class:"font-medium text-green-600 hover:text-green-500"},{default:C(()=>e[12]||(e[12]=[p(" Sign in here ")])),_:1,__:[12]})])]),t("form",{onSubmit:D(E,["prevent"]),class:"mt-8 space-y-6"},[t("div",Q,[s(v)?(n(),a("div",X,f(s(v)),1)):g("",!0),s(y)?(n(),a("div",Y,f(s(y)),1)):g("",!0),t("div",ee,[t("div",te,[t("div",null,[e[15]||(e[15]=t("label",{for:"firstName",class:"block text-sm font-medium text-gray-700"}," First Name ",-1)),d(t("input",{id:"firstName","onUpdate:modelValue":e[0]||(e[0]=o=>s(r).firstName=o),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"First name"},null,512),[[x,s(r).firstName]])]),t("div",null,[e[16]||(e[16]=t("label",{for:"lastName",class:"block text-sm font-medium text-gray-700"}," Last Name ",-1)),d(t("input",{id:"lastName","onUpdate:modelValue":e[1]||(e[1]=o=>s(r).lastName=o),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Last name"},null,512),[[x,s(r).lastName]])])]),t("div",null,[e[17]||(e[17]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email address ",-1)),d(t("input",{id:"email","onUpdate:modelValue":e[2]||(e[2]=o=>s(r).email=o),type:"email",required:"",class:P(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",{"border-red-500":s(m)}]),placeholder:"Enter your email",onBlur:S},null,34),[[x,s(r).email]]),s(m)?(n(),a("p",se,f(s(m)),1)):g("",!0)]),t("div",null,[e[18]||(e[18]=t("label",{for:"phone",class:"block text-sm font-medium text-gray-700"}," Phone Number ",-1)),d(t("input",{id:"phone","onUpdate:modelValue":e[3]||(e[3]=o=>s(r).phone=o),type:"tel",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Enter your phone number"},null,512),[[x,s(r).phone]])]),t("div",null,[e[19]||(e[19]=t("label",{for:"dateOfBirth",class:"block text-sm font-medium text-gray-700"}," Date of Birth ",-1)),d(t("input",{id:"dateOfBirth","onUpdate:modelValue":e[4]||(e[4]=o=>s(r).dateOfBirth=o),type:"date",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500"},null,512),[[x,s(r).dateOfBirth]])]),t("div",null,[e[22]||(e[22]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),t("div",re,[d(t("input",{id:"password","onUpdate:modelValue":e[5]||(e[5]=o=>s(r).password=o),type:s(w)?"text":"password",required:"",class:P(["block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",{"border-red-500":s(i)}]),placeholder:"Create a password",onInput:T},null,42,oe),[[L,s(r).password]]),t("button",{type:"button",onClick:e[6]||(e[6]=o=>w.value=!s(w)),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[s(w)?(n(),a("svg",ae,e[21]||(e[21]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L12 12m-3.122-3.122l4.243 4.243M15 12a3 3 0 00-3-3m0 0a3 3 0 00-3 3"},null,-1)]))):(n(),a("svg",le,e[20]||(e[20]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),t("div",ne,[t("div",de,[(n(),a(I,null,$(4,o=>t("div",{key:o,class:P(["h-1 w-1/4 rounded",U(o)])},null,2)),64))]),t("p",ie," Password strength: "+f(s(z)),1)]),s(i)?(n(),a("p",ue,f(s(i)),1)):g("",!0)]),t("div",null,[e[23]||(e[23]=t("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700"}," Confirm Password ",-1)),d(t("input",{id:"confirmPassword","onUpdate:modelValue":e[7]||(e[7]=o=>s(r).confirmPassword=o),type:s(N)?"text":"password",required:"",class:P(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",{"border-red-500":s(c)}]),placeholder:"Confirm your password",onBlur:_},null,42,me),[[L,s(r).confirmPassword]]),t("button",{type:"button",onClick:e[8]||(e[8]=o=>N.value=!s(N)),class:"absolute right-3 top-2 text-gray-400"}),s(c)?(n(),a("p",ce,f(s(c)),1)):g("",!0)]),t("div",pe,[d(t("input",{id:"acceptTerms","onUpdate:modelValue":e[9]||(e[9]=o=>s(r).acceptTerms=o),type:"checkbox",required:"",class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"},null,512),[[q,s(r).acceptTerms]]),t("label",fe,[e[26]||(e[26]=p(" I agree to the ")),k(h,{to:"/terms",class:"text-green-600 hover:text-green-500"},{default:C(()=>e[24]||(e[24]=[p("Terms of Service")])),_:1,__:[24]}),e[27]||(e[27]=p(" and ")),k(h,{to:"/privacy",class:"text-green-600 hover:text-green-500"},{default:C(()=>e[25]||(e[25]=[p("Privacy Policy")])),_:1,__:[25]})])]),t("div",ge,[d(t("input",{id:"newsletter","onUpdate:modelValue":e[10]||(e[10]=o=>s(r).newsletter=o),type:"checkbox",class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"},null,512),[[q,s(r).newsletter]]),e[28]||(e[28]=t("label",{for:"newsletter",class:"ml-2 block text-sm text-gray-900"}," Subscribe to our newsletter for health tips and special offers ",-1))]),t("div",null,[t("button",{type:"submit",disabled:s(b).loading||!s(A),class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},[s(b).loading?(n(),a("span",xe,e[29]||(e[29]=[t("svg",{class:"animate-spin h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):g("",!0),p(" "+f(s(b).loading?"Creating account...":"Create account"),1)],8,be)])])])],32)])])}}},ke=Z(we,[["__scopeId","data-v-8eefe232"]]);export{ke as default};
