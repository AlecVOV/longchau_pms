import{r as w,a as r,o,b as e,e as x,d as l,t as a,y as b,w as u,_ as C,F as $,g as z,n as h,p as B,h as j,m as p}from"./4Al0cLfe.js";const q={class:"card group relative animate-fade-in"},M={class:"absolute top-2 left-2 z-10 flex flex-col gap-1"},F={key:0,class:"bg-accent-500 text-white text-xs font-medium px-2 py-1 rounded"},L={key:1,class:"bg-primary-600 text-white text-xs font-medium px-2 py-1 rounded"},N={class:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity"},A={class:"aspect-square overflow-hidden"},O=["src","alt"],P={class:"p-4"},V={class:"text-xs text-neutral-500 mb-1"},S={class:"font-medium text-neutral-800 hover:text-primary-600 transition-colors line-clamp-2 mb-2"},R={class:"flex items-center mb-3"},D={class:"flex text-warning-500"},I={class:"text-xs text-neutral-500 ml-1"},E={class:"flex items-center justify-between mb-3"},J={key:0,class:"text-neutral-500 text-sm line-through mr-2"},Q={class:"font-semibold text-neutral-900"},T={key:0,class:"text-xs text-accent-600 font-medium"},W={key:1,class:"text-xs text-primary-600 font-medium"},G={class:"flex gap-2"},H={key:2,disabled:"",class:"btn-primary py-1.5 flex-grow text-sm opacity-50 cursor-not-allowed"},K={key:0,class:"w-5 h-5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},U={key:1,class:"w-5 h-5 transition-all duration-300 text-red-500",fill:"currentColor",viewBox:"0 0 24 24"},Y={__name:"ProductCard",props:{product:{type:Object,required:!0}},emits:["add-to-cart","add-to-wishlist","quick-view"],setup(t,{emit:g}){const f=t,y=g,c=w(!1),k=()=>{c.value=!0,y("add-to-wishlist",f.product)},v=i=>{if(i.images){if(Array.isArray(i.images)&&i.images.length>0)return i.images[0];if(typeof i.images=="string")try{const s=JSON.parse(i.images);if(Array.isArray(s)&&s.length>0)return s[0]}catch{return i.images}}return i.image||"/placeholder-product.jpg"};return(i,s)=>{var m;const d=C;return o(),r("div",q,[e("div",M,[t.product.discount>0?(o(),r("span",F,a(t.product.discount)+"% OFF ",1)):l("",!0),t.product.isRx?(o(),r("span",L," Prescription ")):l("",!0)]),e("div",N,[e("button",{onClick:s[0]||(s[0]=b(n=>i.$emit("quick-view",t.product),["prevent"])),class:"bg-white/80 backdrop-blur-sm rounded-full p-2 hover:bg-white text-neutral-700 hover:text-primary-600 transition-colors",title:"Quick view"},s[2]||(s[2]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]))]),x(d,{to:`/product/${t.product.slug}`},{default:u(()=>[e("div",A,[e("img",{src:v(t.product),alt:t.product.name,class:"w-full h-full object-cover transition-transform duration-300 ease-in-out group-hover:scale-105"},null,8,O)])]),_:1},8,["to"]),e("div",P,[e("p",V,a(((m=t.product.category)==null?void 0:m.name)||t.product.category),1),x(d,{to:`/product/${t.product.slug}`},{default:u(()=>[e("h3",S,a(t.product.name),1)]),_:1},8,["to"]),e("div",R,[e("div",D,[(o(),r($,null,z(5,n=>e("svg",{key:n,class:h([[n<=Math.floor(t.product.rating)?"text-yellow-400":"text-gray-300"],"w-4 h-4"]),fill:"currentColor",viewBox:"0 0 20 20"},s[3]||(s[3]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e("span",I,"("+a(t.product.reviews)+")",1)]),e("div",E,[e("div",null,[t.product.discount>0?(o(),r("span",J," $"+a((t.product.price*(1+t.product.discount/100)).toFixed(2)),1)):l("",!0),e("span",Q,"$"+a(t.product.price.toFixed(2)),1)]),t.product.stock===0?(o(),r("span",T,"Out of Stock")):t.product.requiresPrescription?(o(),r("span",W,"Rx Required")):l("",!0)]),e("div",G,[t.product.requiresPrescription?(o(),B(d,{key:0,to:`/product/${t.product.slug}`,class:"btn-primary py-1.5 flex-grow text-center text-sm"},{default:u(()=>s[4]||(s[4]=[j(" View Details ")])),_:1,__:[4]},8,["to"])):t.product.stock>0?(o(),r("button",{key:1,onClick:s[1]||(s[1]=n=>i.$emit("add-to-cart",t.product)),class:"btn-primary py-1.5 flex-grow text-sm"}," Add to Cart ")):(o(),r("button",H," Out of Stock ")),e("button",{onClick:k,class:h(["btn-ghost py-1.5 px-3 text-sm transition-all duration-300 hover:scale-110",{"text-red-500":p(c)}])},[p(c)?(o(),r("svg",U,s[6]||(s[6]=[e("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},null,-1)]))):(o(),r("svg",K,s[5]||(s[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)])))],2)])])])}}};export{Y as default};
